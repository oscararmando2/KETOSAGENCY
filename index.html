<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ketos Agency | Marketing que Conquista</title>
  <meta name="description" content="Agencia de marketing digital en M√©xico. Estrategias, creatividad y resultados reales para tu marca."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&display=swap" rel="stylesheet">
  
  <!-- Lenis Smooth Scroll CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
  
  <style>
    :root {
      --primary: #ff6b35;    /* naranja vibrante */
      --dark: #0f0f1a;
      --gray: #1e1e2e;
      --light: #e0e0ff;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body {
      font-family: 'Protest Guerrilla', sans-serif;
      background: var(--dark);
      color: var(--light);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    html.intro-active,
    body.intro-active {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: rgba(15,15,26,0.9);
      backdrop-filter: blur(10px);
      padding: 1.2rem 5%;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    header.header-hidden {
      opacity: 0;
      transform: translateY(-20px);
      pointer-events: none;
    }
    .logo { font-size: 1.8rem; font-weight: 700; color: var(--primary); }
    nav a { color: white; text-decoration: none; margin-left: 2rem; font-weight: 500; }
    nav a:hover { color: var(--primary); }

    /* Premium Hero Banner with Spline */
    #introBanner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 999;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      background: var(--dark);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    #introBanner.intro-hidden {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
    }
    
    .banner-container {
      position: relative;
      width: 100%;
      height: min(92vh, 820px);
      min-height: 520px;
      overflow: hidden;
      background: linear-gradient(135deg, #0a0a15 0%, #1a1a2e 50%, #16213e 100%);
    }
    
    /* Dark gradient overlay for integration */
    .banner-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 50% 50%, transparent 0%, rgba(10, 10, 21, 0.3) 70%),
                  linear-gradient(180deg, rgba(10, 10, 21, 0.2) 0%, rgba(10, 10, 21, 0.5) 100%);
      pointer-events: none;
      z-index: 1;
    }
    
    .banner-iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      position: relative;
      z-index: 0;
    }
    
    /* Minimalist overlay - bottom right corner */
    .banner-overlay {
      position: absolute;
      bottom: 30px; /* Positioned lower on the page */
      right: 40px;
      left: auto;
      display: flex;
      align-items: center;
      gap: 1rem;
      pointer-events: none;
      z-index: 10;
    }
    
    .banner-overlay > * {
      pointer-events: auto;
    }
    
    .banner-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
      cursor: pointer;
      background: linear-gradient(90deg, #ff6b35, #ff8c5e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-decoration: none;
      display: inline-block;
      transition: transform 0.2s ease, opacity 0.2s ease;
    }
    
    .banner-title:hover {
      transform: translateY(-2px);
      opacity: 0.9;
    }
    
    /* New Animated Button Styles */
    .btn-wrapper {
      position: relative;
      display: inline-block;
    }

    .btn {
      --border-radius: 24px;
      --padding: 4px;
      --transition: 0.4s;
      --button-color: #101010; /* Same as background */
      --highlight-color-hue: 210deg;

      user-select: none;
      display: flex;
      justify-content: center;
      padding: 0.5em 0.5em 0.5em 1.1em;
      font-family: "Protest Guerrilla", sans-serif;
      font-size: 1em;
      font-weight: 400;

      background-color: var(--button-color);

      box-shadow:
        /* inset */
        inset 0px 1px 1px rgba(255, 255, 255, 0.2),
        inset 0px 2px 2px rgba(255, 255, 255, 0.15),
        inset 0px 4px 4px rgba(255, 255, 255, 0.1),
        inset 0px 8px 8px rgba(255, 255, 255, 0.05),
        inset 0px 16px 16px rgba(255, 255, 255, 0.05),
        /* drop */ 0px -1px 1px rgba(0, 0, 0, 0.02),
        0px -2px 2px rgba(0, 0, 0, 0.03),
        0px -4px 4px rgba(0, 0, 0, 0.05),
        0px -8px 8px rgba(0, 0, 0, 0.06),
        0px -16px 16px rgba(0, 0, 0, 0.08);

      border: solid 1px #fff2;
      border-radius: var(--border-radius);
      cursor: pointer;

      transition:
        box-shadow var(--transition),
        border var(--transition),
        background-color var(--transition);
    }
    .btn::before {
      content: "";
      position: absolute;
      top: calc(0px - var(--padding));
      left: calc(0px - var(--padding));
      width: calc(100% + var(--padding) * 2);
      height: calc(100% + var(--padding) * 2);
      border-radius: calc(var(--border-radius) + var(--padding));
      pointer-events: none;
      background-image: linear-gradient(0deg, #0004, #000a);

      z-index: -1;
      transition:
        box-shadow var(--transition),
        filter var(--transition);
      box-shadow:
        0 -8px 8px -6px #0000 inset,
        0 -16px 16px -8px #00000000 inset,
        1px 1px 1px #fff2,
        2px 2px 2px #fff1,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }
    .btn::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      pointer-events: none;
      background-image: linear-gradient(
        0deg,
        #fff,
        hsl(var(--highlight-color-hue), 100%, 70%),
        hsla(var(--highlight-color-hue), 100%, 70%, 50%) 8%,
        transparent
      );
      background-position: 0 0;
      opacity: 0;
      transition:
        opacity var(--transition),
        filter var(--transition);
    }

    .btn-letter {
      position: relative;
      display: inline-block;
      color: #fff5;
      animation: letter-anim 2s ease-in-out infinite;
      transition:
        color var(--transition),
        text-shadow var(--transition),
        opacity var(--transition);
    }

    @keyframes letter-anim {
      50% {
        text-shadow: 0 0 3px #fff8;
        color: #fff;
      }
    }

    .btn-svg {
      flex-grow: 1;
      height: 24px;
      margin-right: 0.5rem;
      fill: none;
      stroke: #e8e8e8;
      stroke-width: 1.5;
      animation: flicker 2s linear infinite;
      animation-delay: 0.5s;
      filter: drop-shadow(0 0 2px #fff9);
      transition:
        stroke var(--transition),
        filter var(--transition),
        opacity var(--transition);
    }
    @keyframes flicker {
      50% {
        opacity: 0.3;
      }
    }

    /* Focus state */
    .txt-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      min-width: 6.4em;
    }
    .txt-1,
    .txt-2 {
      position: absolute;
      display: inline-flex;
      gap: 0;
    }
    .txt-1 {
      animation: appear-anim 1s ease-in-out forwards;
    }
    .txt-2 {
      opacity: 0;
    }
    @keyframes appear-anim {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
    .btn:focus .txt-1 {
      animation: opacity-anim 0.3s ease-in-out forwards;
      animation-delay: 1s;
    }
    .btn:focus .txt-2 {
      animation: opacity-anim 0.3s ease-in-out reverse forwards;
      animation-delay: 1s;
    }
    @keyframes opacity-anim {
      0% {
        opacity: 1;
      }
      100% {
        opacity: 0;
      }
    }

    .btn:focus .btn-letter {
      animation:
        focused-letter-anim 1s ease-in-out forwards,
        letter-anim 1.2s ease-in-out infinite;
      animation-delay: 0s, 1s;
    }
    @keyframes focused-letter-anim {
      0%,
      100% {
        filter: blur(0px);
      }
      50% {
        transform: scale(2);
        filter: blur(10px) brightness(150%)
          drop-shadow(-36px 12px 12px hsl(var(--highlight-color-hue), 100%, 70%));
      }
    }
    .btn:focus .btn-svg {
      animation-duration: 1.2s;
      animation-delay: 0.2s;
    }

    .btn:focus::before {
      box-shadow:
        0 -8px 12px -6px #fff3 inset,
        0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 20%) inset,
        1px 1px 1px #fff3,
        2px 2px 2px #fff1,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }
    .btn:focus::after {
      opacity: 0.6;
      mask-image: linear-gradient(0deg, #fff, transparent);
      filter: brightness(100%);
    }

    /* Animation delays for .btn-letter elements */
    .btn-letter:nth-child(1),
    .btn:focus .btn-letter:nth-child(1) {
      animation-delay: 0s;
    }
    .btn-letter:nth-child(2),
    .btn:focus .btn-letter:nth-child(2) {
      animation-delay: 0.08s;
    }
    .btn-letter:nth-child(3),
    .btn:focus .btn-letter:nth-child(3) {
      animation-delay: 0.16s;
    }
    .btn-letter:nth-child(4),
    .btn:focus .btn-letter:nth-child(4) {
      animation-delay: 0.24s;
    }
    .btn-letter:nth-child(5),
    .btn:focus .btn-letter:nth-child(5) {
      animation-delay: 0.32s;
    }
    .btn-letter:nth-child(6),
    .btn:focus .btn-letter:nth-child(6) {
      animation-delay: 0.4s;
    }
    .btn-letter:nth-child(7),
    .btn:focus .btn-letter:nth-child(7) {
      animation-delay: 0.48s;
    }
    .btn-letter:nth-child(8),
    .btn:focus .btn-letter:nth-child(8) {
      animation-delay: 0.56s;
    }
    .btn-letter:nth-child(9),
    .btn:focus .btn-letter:nth-child(9) {
      animation-delay: 0.64s;
    }
    .btn-letter:nth-child(10),
    .btn:focus .btn-letter:nth-child(10) {
      animation-delay: 0.72s;
    }
    .btn-letter:nth-child(11),
    .btn:focus .btn-letter:nth-child(11) {
      animation-delay: 0.8s;
    }
    .btn-letter:nth-child(12),
    .btn:focus .btn-letter:nth-child(12) {
      animation-delay: 0.88s;
    }
    .btn-letter:nth-child(13),
    .btn:focus .btn-letter:nth-child(13) {
      animation-delay: 0.96s;
    }

    /* Active state */
    .btn:active {
      border: solid 1px hsla(var(--highlight-color-hue), 100%, 80%, 70%);
      background-color: hsla(var(--highlight-color-hue), 50%, 20%, 0.5);
    }
    .btn:active::before {
      box-shadow:
        0 -8px 12px -6px #fffa inset,
        0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 80%) inset,
        1px 1px 1px #fff4,
        2px 2px 2px #fff2,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }
    .btn:active::after {
      opacity: 1;
      mask-image: linear-gradient(0deg, #fff, transparent);
      filter: brightness(200%);
    }
    .btn:active .btn-letter {
      text-shadow: 0 0 1px hsla(var(--highlight-color-hue), 100%, 90%, 90%);
      animation: none;
    }

    /* Hover state */
    .btn:hover {
      border: solid 1px hsla(var(--highlight-color-hue), 100%, 80%, 40%);
    }

    .btn:hover::before {
      box-shadow:
        0 -8px 8px -6px #fffa inset,
        0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 30%) inset,
        1px 1px 1px #fff2,
        2px 2px 2px #fff1,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }

    .btn:hover::after {
      opacity: 1;
      mask-image: linear-gradient(0deg, #fff, transparent);
    }

    .btn:hover .btn-svg {
      stroke: #fff;
      filter: drop-shadow(0 0 3px hsl(var(--highlight-color-hue), 100%, 70%))
        drop-shadow(0 -4px 6px #0009);
      animation: none;
    }
    
    /* Reduced Motion Support for Button Animations */
    @media (prefers-reduced-motion: reduce) {
      .btn-letter {
        animation: none !important;
      }
      
      .btn-svg {
        animation: none !important;
      }
      
      .btn:focus .btn-letter {
        animation: none !important;
        filter: none !important;
        transform: none !important;
      }
    }
    
    /* Site Content */
    #siteContent {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease 0.3s, transform 0.6s ease 0.3s;
      pointer-events: none;
    }
    
    #siteContent.content-visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(135deg, #0f0f1a 0%, #1e1e2e 100%);
      padding: 100px 5% 60px;
    }
    .hero h1 {
      font-size: clamp(2.8rem, 8vw, 6rem);
      margin-bottom: 1.5rem;
      background: linear-gradient(90deg, #ff6b35, #ff8c5e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .hero p { font-size: 1.4rem; max-width: 700px; margin-bottom: 2.5rem; opacity: 0.9; }
    
    .cta {
      background: var(--primary);
      color: white;
      padding: 1rem 2.5rem;
      border: none;
      border-radius: 50px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    .cta:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(255,107,53,0.4); }

    /* Section 2: Qu√© hacemos diferente */
    .what-we-do {
      padding: 100px 5% 80px;
      background: var(--gray);
      text-align: center;
    }
    .what-we-do h2 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      margin-bottom: 1.5rem;
      color: white;
      font-weight: 700;
    }
    .what-we-do > p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 4rem;
      opacity: 0.9;
      line-height: 1.8;
    }
    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 2.5rem 2rem;
      transition: all 0.3s ease;
    }
    .card:hover {
      transform: translateY(-8px);
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(255, 107, 53, 0.3);
      box-shadow: 0 10px 40px rgba(255, 107, 53, 0.15);
    }
    .card-icon {
      font-size: 3rem;
      margin-bottom: 1.5rem;
      display: block;
    }
    .card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: white;
      font-weight: 600;
    }
    .card p {
      font-size: 1rem;
      opacity: 0.8;
      line-height: 1.6;
    }

    /* Mobile */
    @media (max-width: 768px) {
      nav { display: none; }
      
      /* Mobile intro must be REAL fullscreen */
      #introBanner {
        width: 100vw;
        height: 100vh; /* Fallback for all browsers */
        height: 100svh; /* Small viewport height fallback */
        height: 100dvh; /* Dynamic viewport height for mobile (preferred) */
        padding: 0;
        margin: 0;
      }
      
      .banner-container {
        width: 100%;
        height: 100%;
        /* Remove all height constraints */
        max-height: none;
        min-height: 0;
        border-radius: 0;
        margin: 0;
      }
      
      /* Bottom-right overlay on mobile with safe-area support */
      .banner-overlay {
        bottom: calc(25px + env(safe-area-inset-bottom, 0px)); /* Positioned lower on mobile + safe-area */
        right: calc(20px + env(safe-area-inset-right, 0px));
        left: auto;
        transform: none;
        flex-direction: column;
        align-items: flex-end;
        gap: 0.75rem;
      }
      
      .banner-title {
        font-size: 1.5rem;
      }
      
      .btn-wrapper {
        transform: scale(0.9);
      }
      
      .btn {
        font-size: 0.95rem;
      }
      
      /* Section 2 mobile adjustments */
      .what-we-do {
        padding: 60px 5% 50px;
      }
      .what-we-do h2 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
      }
      .what-we-do > p {
        font-size: 1rem;
        margin-bottom: 3rem;
      }
      .cards-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      .card {
        padding: 2rem 1.5rem;
      }
    }

    /* ========================================
       PREMIUM SCROLL-TRIGGERED LOADER
       ======================================== */
    
    /* Loader Overlay - Full Screen Fixed */
    .loader-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(10, 12, 20, 0.25);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      pointer-events: none;
      z-index: 9999;
      
      /* Initial hidden state */
      opacity: 0;
      visibility: hidden;
      filter: blur(12px);
      transform: translateY(10px) scale(1.02);
      
      /* Default fade-out duration */
      --fadeOutMs: 700ms;
    }
    
    /* Visible state */
    .loader-overlay.is-visible {
      opacity: 1;
      visibility: visible;
      filter: blur(0);
      transform: translateY(0) scale(1);
      transition: opacity 220ms ease, 
                  filter 220ms ease, 
                  transform 220ms ease, 
                  visibility 0ms;
    }
    
    /* Hiding state with dynamic fade-out duration */
    .loader-overlay.is-hiding {
      opacity: 0;
      filter: blur(14px);
      transform: translateY(-10px) scale(0.98);
      transition: opacity var(--fadeOutMs) cubic-bezier(.2,.8,.2,1),
                  filter var(--fadeOutMs) cubic-bezier(.2,.8,.2,1),
                  transform var(--fadeOutMs) cubic-bezier(.2,.8,.2,1);
    }
    
    /* Loader Animation */
    .loader {
      --uib-size: 2.8rem;
      --uib-speed: .9s;
      --uib-color: #ff7a3d;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      height: var(--uib-size);
      width: var(--uib-size);
    }

    .loaders {
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      height: 100%;
      width: 100%;
    }

    .loaders::before {
      content: '';
      height: 20%;
      width: 20%;
      border-radius: 50%;
      background-color: var(--uib-color);
      transform: scale(0);
      opacity: 0.5;
      animation: pulse0112 calc(var(--uib-speed) * 1.111) ease-in-out infinite;
      box-shadow: 0 0 20px rgba(18, 31, 53, 0.3);
    }

    .loaders:nth-child(2) { transform: rotate(45deg); }
    .loaders:nth-child(2)::before { animation-delay: calc(var(--uib-speed) * -0.875); }

    .loaders:nth-child(3) { transform: rotate(90deg); }
    .loaders:nth-child(3)::before { animation-delay: calc(var(--uib-speed) * -0.75); }

    .loaders:nth-child(4) { transform: rotate(135deg); }
    .loaders:nth-child(4)::before { animation-delay: calc(var(--uib-speed) * -0.625); }

    .loaders:nth-child(5) { transform: rotate(180deg); }
    .loaders:nth-child(5)::before { animation-delay: calc(var(--uib-speed) * -0.5); }

    .loaders:nth-child(6) { transform: rotate(225deg); }
    .loaders:nth-child(6)::before { animation-delay: calc(var(--uib-speed) * -0.375); }

    .loaders:nth-child(7) { transform: rotate(270deg); }
    .loaders:nth-child(7)::before { animation-delay: calc(var(--uib-speed) * -0.25); }

    .loaders:nth-child(8) { transform: rotate(315deg); }
    .loaders:nth-child(8)::before { animation-delay: calc(var(--uib-speed) * -0.125); }

    @keyframes pulse0112 {
      0%, 100% { transform: scale(0); opacity: 0.5; }
      50% { transform: scale(1); opacity: 1; }
    }
    
    /* Scroll Sentinel */
    #scroll-sentinel {
      height: 1px;
      width: 100%;
    }
    
    /* Reduced Motion Support */
    @media (prefers-reduced-motion: reduce) {
      .loader-overlay {
        filter: none !important;
        transform: none !important;
        transition: opacity 150ms ease !important;
      }
      
      .loader-overlay.is-visible {
        filter: none !important;
        transform: none !important;
        transition: opacity 150ms ease !important;
      }
      
      .loader-overlay.is-hiding {
        filter: none !important;
        transform: none !important;
        transition: opacity 150ms ease !important;
      }
      
      .loaders::before {
        animation: none !important;
        transform: scale(1) !important;
        opacity: 1 !important;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">Ketos Agency</div>
    <nav>
      <a href="#servicios">Servicios</a>
      <a href="#about">Nosotros</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <!-- Premium Hero Banner with Spline -->
  <div id="introBanner">
    <div class="banner-container">
      <iframe 
        class="banner-iframe"
        id="splineIframe"
        allow="fullscreen"
        loading="eager"
      ></iframe>
      
      <div class="banner-overlay">
        <a href="#" class="banner-title" id="bannerTitle" aria-label="Ir al contenido principal">KETOS</a>
        <div class="btn-wrapper">
          <button class="btn" id="startButton" aria-label="Comenzar - Ocultar banner y ver contenido">
            <svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"
              ></path>
            </svg>

            <div class="txt-wrapper">
              <div class="txt-1">
                <span class="btn-letter">C</span>
                <span class="btn-letter">o</span>
                <span class="btn-letter">m</span>
                <span class="btn-letter">e</span>
                <span class="btn-letter">n</span>
                <span class="btn-letter">z</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">r</span>
              </div>
              <div class="txt-2">
                <span class="btn-letter">C</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">r</span>
                <span class="btn-letter">g</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">n</span>
                <span class="btn-letter">d</span>
                <span class="btn-letter">o</span>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Site Content -->
  <main id="siteContent">
    <section class="hero">
      <h1>Impulsamos marcas<br>que conquistan</h1>
      <p>Estrategias digitales creativas y efectivas que generan leads, ventas y reconocimiento real. M√©xico y m√°s all√°.</p>
      <button class="cta">Hablemos de tu crecimiento ‚Üí</button>
    </section>

    <!-- Scroll Sentinel -->
    <div id="scroll-sentinel" aria-hidden="true"></div>

    <!-- SECCI√ìN 2: Qu√© hacemos diferente -->
    <section id="section-2" class="what-we-do">
      <h2>Marketing, tecnolog√≠a e inteligencia artificial trabajando juntos.</h2>
      <p>No hacemos campa√±as aisladas.<br>Dise√±amos sistemas digitales que atraen, convierten y escalan marcas.</p>
      
      <div class="cards-container">
        <div class="card">
          <span class="card-icon">üìà</span>
          <h3>Estrategia</h3>
          <p>An√°lisis profundo y planificaci√≥n estrat√©gica para maximizar resultados.</p>
        </div>
        
        <div class="card">
          <span class="card-icon">üß†</span>
          <h3>IA & Automatizaci√≥n</h3>
          <p>Tecnolog√≠a de vanguardia para optimizar procesos y escalar eficientemente.</p>
        </div>
        
        <div class="card">
          <span class="card-icon">üé®</span>
          <h3>Creatividad con prop√≥sito</h3>
          <p>Dise√±o y contenido que conecta emocionalmente y genera acci√≥n.</p>
        </div>
      </div>
    </section>

    <!-- Aqu√≠ ir√°n despu√©s las secciones de servicios, about, etc. -->
  </main>

  <!-- Premium Scroll-Triggered Loader Overlay -->
  <div class="loader-overlay" aria-hidden="true">
    <div class="loader">
      <div class="loaders"></div>
      <div class="loaders"></div>
      <div class="loaders"></div>
      <div class="loaders"></div>
      <div class="loaders"></div>
      <div class="loaders"></div>
      <div class="loaders"></div>
      <div class="loaders"></div>
    </div>
  </div>

  <script>
    // Cache-busting for Spline iframe
    const splineUrl = 'https://my.spline.design/nexbotrobotcharacterconcept-Zb5s4qJ7pgx5xVCSjat7oEDO/';
    const splineIframe = document.getElementById('splineIframe');
    if (splineIframe) {
      splineIframe.src = splineUrl + '?v=' + Date.now();
    }
    
    // Premium Spline Hero Intro Functionality
    const introBanner = document.getElementById('introBanner');
    const siteContent = document.getElementById('siteContent');
    const startButton = document.getElementById('startButton');
    const bannerTitle = document.getElementById('bannerTitle');
    const header = document.querySelector('header');
    
    // TEMPORARILY DISABLED: Skip intro functionality (for development)
    // const hasSeenIntro = sessionStorage.getItem('ketosIntroSeen');
    const hasSeenIntro = false; // Always show intro during development
    
    if (hasSeenIntro === true) {
      // Skip intro, show content immediately
      introBanner.classList.add('intro-hidden');
      siteContent.classList.add('content-visible');
      document.documentElement.classList.remove('intro-active');
      document.body.classList.remove('intro-active');
      header.classList.remove('header-hidden');
    } else {
      // Intro is visible, hide header and block scroll
      document.documentElement.classList.add('intro-active');
      document.body.classList.add('intro-active');
      header.classList.add('header-hidden');
    }
    
    function hideBannerAndShowContent(e) {
      e.preventDefault();
      
      // TEMPORARILY DISABLED: Save to sessionStorage (for development)
      // sessionStorage.setItem('ketosIntroSeen', 'true');
      
      // Hide banner with transition
      introBanner.classList.add('intro-hidden');
      
      // Show content with transition
      siteContent.classList.add('content-visible');
      
      // Enable body scroll and remove html/body overrides
      document.documentElement.classList.remove('intro-active');
      document.body.classList.remove('intro-active');
      
      // Show header with smooth animation
      header.classList.remove('header-hidden');
    }
    
    // Click handlers
    startButton.addEventListener('click', hideBannerAndShowContent);
    bannerTitle.addEventListener('click', hideBannerAndShowContent);
    
    // Keyboard support for Enter and Space keys on title (anchor element)
    bannerTitle.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        hideBannerAndShowContent(e);
      }
    });
  </script>

  <script>
    // ========================================
    // PREMIUM SCROLL-TRIGGERED LOADER WITH LENIS
    // ========================================
    
    (function() {
      'use strict';
      
      // Configuration
      const CONFIG = {
        SENTINEL_SELECTOR: '#scroll-sentinel',
        OBSERVER_THRESHOLD: 0,
        OBSERVER_ROOT_MARGIN: '0px 0px -70% 0px',
        SHOW_DURATION: 300, // ms to show loader before hiding (250-400ms)
        FADE_OUT_DURATION: 350, // ms for hiding animation
      };
      
      // State
      let hasTriggered = false;
      let lenis = null;
      let observer = null;
      let loaderOverlay = null;
      
      /**
       * Initialize Lenis smooth scroll if available
       */
      function initLenis() {
        // Check if Lenis is available globally
        if (typeof Lenis === 'undefined') {
          console.warn('[Loader] Lenis not found. Proceeding without smooth scroll.');
          return;
        }
        
        try {
          lenis = new Lenis({
            smoothWheel: true,
            smoothTouch: false,
            lerp: 0.08,
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
          });
          
          // Start RAF loop for Lenis (runs continuously for smooth scrolling throughout the site)
          function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
          }
          requestAnimationFrame(raf);
          
          console.log('[Loader] Lenis smooth scroll initialized.');
        } catch (error) {
          console.warn('[Loader] Lenis initialization failed:', error);
        }
      }
      
      /**
       * Show the loader overlay
       */
      function showLoader() {
        if (!loaderOverlay) return;
        
        console.log('[Loader] TRIGGERED');
        
        // Add visible class
        loaderOverlay.classList.add('is-visible');
        
        // After show duration, start hiding
        setTimeout(() => {
          hideLoader();
        }, CONFIG.SHOW_DURATION);
      }
      
      /**
       * Hide the loader overlay
       */
      function hideLoader() {
        if (!loaderOverlay) return;
        
        // Set CSS variable for fade-out duration
        loaderOverlay.style.setProperty('--fadeOutMs', `${CONFIG.FADE_OUT_DURATION}ms`);
        
        // Add hiding class
        loaderOverlay.classList.add('is-hiding');
        
        // Listen for transition end to remove overlay
        const handleTransitionEnd = (e) => {
          if (e.propertyName === 'opacity') {
            loaderOverlay.removeEventListener('transitionend', handleTransitionEnd);
            
            // Remove overlay from DOM
            if (loaderOverlay.parentNode) {
              loaderOverlay.parentNode.removeChild(loaderOverlay);
            }
            
            console.log('[Loader] Loader removed from DOM.');
          }
        };
        
        loaderOverlay.addEventListener('transitionend', handleTransitionEnd);
        
        // Fallback: force remove after duration + buffer
        setTimeout(() => {
          if (loaderOverlay && loaderOverlay.parentNode) {
            loaderOverlay.removeEventListener('transitionend', handleTransitionEnd);
            loaderOverlay.parentNode.removeChild(loaderOverlay);
            console.log('[Loader] Loader removed (fallback).');
          }
        }, CONFIG.FADE_OUT_DURATION + 500);
      }
      
      /**
       * Handle sentinel intersection
       */
      function handleIntersection(entries) {
        entries.forEach(entry => {
          // Trigger when sentinel intersects for the first time
          if (entry.isIntersecting && !hasTriggered) {
            hasTriggered = true;
            
            // Show loader
            showLoader();
            
            // Disconnect observer (one-time trigger)
            if (observer) {
              observer.disconnect();
              observer = null;
            }
          }
        });
      }
      
      /**
       * Setup IntersectionObserver for sentinel element
       */
      function setupObserver() {
        const sentinel = document.querySelector(CONFIG.SENTINEL_SELECTOR);
        
        if (!sentinel) {
          console.warn('[Loader] Sentinel element not found:', CONFIG.SENTINEL_SELECTOR);
          return;
        }
        
        const options = {
          root: null,
          threshold: CONFIG.OBSERVER_THRESHOLD,
          rootMargin: CONFIG.OBSERVER_ROOT_MARGIN,
        };
        
        observer = new IntersectionObserver(handleIntersection, options);
        observer.observe(sentinel);
        
        console.log('[Loader] Observer setup complete for', CONFIG.SENTINEL_SELECTOR);
      }
      
      // Track initialization state
      let isInitialized = false;
      
      /**
       * Initialize the loader system
       */
      function init() {
        // Prevent multiple initializations
        if (isInitialized) {
          console.warn('[Loader] Already initialized.');
          return;
        }
        
        // Check for reduced motion preference
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        
        if (prefersReducedMotion) {
          console.log('[Loader] Reduced motion detected. Loader animations simplified.');
        }
        
        // Get loader overlay element
        loaderOverlay = document.querySelector('.loader-overlay');
        
        if (!loaderOverlay) {
          console.warn('[Loader] Loader overlay element not found.');
          return;
        }
        
        // Initialize Lenis
        initLenis();
        
        // Setup intersection observer
        setupObserver();
        
        isInitialized = true;
        console.log('[Loader] init OK');
      }
      
      // Expose init globally
      window.initKetosLoader = init;
      
      // DO NOT auto-initialize loader - it will be initialized manually after intro closes
      
    })();
  </script>

</body>
</html>
