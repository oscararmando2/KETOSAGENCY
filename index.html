<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ketos Agency | Marketing que Conquista</title>
  <meta name="description" content="Agencia de marketing digital en MÃ©xico. Estrategias, creatividad y resultados reales para tu marca."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&display=swap" rel="stylesheet">
  
  <!-- Lenis Smooth Scroll CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
  
  <style>
    :root {
      --primary: #ff6b35;    /* naranja vibrante */
      --dark: #0f0f1a;
      --gray: #1e1e2e;
      --light: #e0e0ff;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px; /* Account for fixed header height */
    }
    
    body {
      font-family: 'Protest Guerrilla', sans-serif;
      background: var(--dark);
      color: var(--light);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    html.intro-active,
    body.intro-active {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: rgba(15,15,26,0.9);
      backdrop-filter: blur(10px);
      padding: 1.2rem 5%;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    header.header-hidden {
      opacity: 0;
      transform: translateY(-20px);
      pointer-events: none;
    }
    .logo { font-size: 1.8rem; font-weight: 700; color: var(--primary); }
    nav a { color: white; text-decoration: none; margin-left: 2rem; font-weight: 500; }
    nav a:hover { color: var(--primary); }

    /* Premium Hero Banner with Spline */
    #introBanner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 999;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      background: var(--dark);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    #introBanner.intro-hidden {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
    }
    
    .banner-container {
      position: relative;
      width: 100%;
      height: min(92vh, 820px);
      min-height: 520px;
      overflow: hidden;
      background: linear-gradient(135deg, #0a0a15 0%, #1a1a2e 50%, #16213e 100%);
    }
    
    /* Dark gradient overlay for integration */
    .banner-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 50% 50%, transparent 0%, rgba(10, 10, 21, 0.3) 70%),
                  linear-gradient(180deg, rgba(10, 10, 21, 0.2) 0%, rgba(10, 10, 21, 0.5) 100%);
      pointer-events: none;
      z-index: 1;
    }
    
    .banner-iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      position: relative;
      z-index: 0;
    }
    
    /* Minimalist overlay - bottom right corner */
    .banner-overlay {
      position: absolute;
      bottom: 30px; /* Positioned lower on the page */
      right: 40px;
      left: auto;
      display: flex;
      align-items: center;
      gap: 1rem;
      pointer-events: none;
      z-index: 10;
    }
    
    .banner-overlay > * {
      pointer-events: auto;
    }
    
    .banner-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
      cursor: pointer;
      background: linear-gradient(90deg, #ff6b35, #ff8c5e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-decoration: none;
      display: inline-block;
      transition: transform 0.2s ease, opacity 0.2s ease;
    }
    
    .banner-title:hover {
      transform: translateY(-2px);
      opacity: 0.9;
    }
    
    /* New Animated Button Styles */
    .btn-wrapper {
      position: relative;
      display: inline-block;
    }

    .btn {
      --border-radius: 24px;
      --padding: 4px;
      --transition: 0.4s;
      --button-color: #101010; /* Same as background */
      --highlight-color-hue: 210deg;

      user-select: none;
      display: flex;
      justify-content: center;
      padding: 0.5em 0.5em 0.5em 1.1em;
      font-family: "Protest Guerrilla", sans-serif;
      font-size: 1em;
      font-weight: 400;

      background-color: var(--button-color);

      box-shadow:
        /* inset */
        inset 0px 1px 1px rgba(255, 255, 255, 0.2),
        inset 0px 2px 2px rgba(255, 255, 255, 0.15),
        inset 0px 4px 4px rgba(255, 255, 255, 0.1),
        inset 0px 8px 8px rgba(255, 255, 255, 0.05),
        inset 0px 16px 16px rgba(255, 255, 255, 0.05),
        /* drop */ 0px -1px 1px rgba(0, 0, 0, 0.02),
        0px -2px 2px rgba(0, 0, 0, 0.03),
        0px -4px 4px rgba(0, 0, 0, 0.05),
        0px -8px 8px rgba(0, 0, 0, 0.06),
        0px -16px 16px rgba(0, 0, 0, 0.08);

      border: solid 1px #fff2;
      border-radius: var(--border-radius);
      cursor: pointer;

      transition:
        box-shadow var(--transition),
        border var(--transition),
        background-color var(--transition);
    }
    .btn::before {
      content: "";
      position: absolute;
      top: calc(0px - var(--padding));
      left: calc(0px - var(--padding));
      width: calc(100% + var(--padding) * 2);
      height: calc(100% + var(--padding) * 2);
      border-radius: calc(var(--border-radius) + var(--padding));
      pointer-events: none;
      background-image: linear-gradient(0deg, #0004, #000a);

      z-index: -1;
      transition:
        box-shadow var(--transition),
        filter var(--transition);
      box-shadow:
        0 -8px 8px -6px #0000 inset,
        0 -16px 16px -8px #00000000 inset,
        1px 1px 1px #fff2,
        2px 2px 2px #fff1,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }
    .btn::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      pointer-events: none;
      background-image: linear-gradient(
        0deg,
        #fff,
        hsl(var(--highlight-color-hue), 100%, 70%),
        hsla(var(--highlight-color-hue), 100%, 70%, 50%) 8%,
        transparent
      );
      background-position: 0 0;
      opacity: 0;
      transition:
        opacity var(--transition),
        filter var(--transition);
    }

    .btn-letter {
      position: relative;
      display: inline-block;
      color: #fff5;
      animation: letter-anim 2s ease-in-out infinite;
      transition:
        color var(--transition),
        text-shadow var(--transition),
        opacity var(--transition);
    }

    @keyframes letter-anim {
      50% {
        text-shadow: 0 0 3px #fff8;
        color: #fff;
      }
    }

    .btn-svg {
      flex-grow: 1;
      height: 24px;
      margin-right: 0.5rem;
      fill: none;
      stroke: #e8e8e8;
      stroke-width: 1.5;
      animation: flicker 2s linear infinite;
      animation-delay: 0.5s;
      filter: drop-shadow(0 0 2px #fff9);
      transition:
        stroke var(--transition),
        filter var(--transition),
        opacity var(--transition);
    }
    @keyframes flicker {
      50% {
        opacity: 0.3;
      }
    }

    /* Focus state */
    .txt-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      min-width: 6.4em;
    }
    .txt-1,
    .txt-2 {
      position: absolute;
      display: inline-flex;
      gap: 0;
    }
    .txt-1 {
      animation: appear-anim 1s ease-in-out forwards;
    }
    .txt-2 {
      opacity: 0;
    }
    @keyframes appear-anim {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
    .btn:focus .txt-1 {
      animation: opacity-anim 0.3s ease-in-out forwards;
      animation-delay: 1s;
    }
    .btn:focus .txt-2 {
      animation: opacity-anim 0.3s ease-in-out reverse forwards;
      animation-delay: 1s;
    }
    @keyframes opacity-anim {
      0% {
        opacity: 1;
      }
      100% {
        opacity: 0;
      }
    }

    .btn:focus .btn-letter {
      animation:
        focused-letter-anim 1s ease-in-out forwards,
        letter-anim 1.2s ease-in-out infinite;
      animation-delay: 0s, 1s;
    }
    @keyframes focused-letter-anim {
      0%,
      100% {
        filter: blur(0px);
      }
      50% {
        transform: scale(2);
        filter: blur(10px) brightness(150%)
          drop-shadow(-36px 12px 12px hsl(var(--highlight-color-hue), 100%, 70%));
      }
    }
    .btn:focus .btn-svg {
      animation-duration: 1.2s;
      animation-delay: 0.2s;
    }

    .btn:focus::before {
      box-shadow:
        0 -8px 12px -6px #fff3 inset,
        0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 20%) inset,
        1px 1px 1px #fff3,
        2px 2px 2px #fff1,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }
    .btn:focus::after {
      opacity: 0.6;
      mask-image: linear-gradient(0deg, #fff, transparent);
      filter: brightness(100%);
    }

    /* Animation delays for .btn-letter elements */
    .btn-letter:nth-child(1),
    .btn:focus .btn-letter:nth-child(1) {
      animation-delay: 0s;
    }
    .btn-letter:nth-child(2),
    .btn:focus .btn-letter:nth-child(2) {
      animation-delay: 0.08s;
    }
    .btn-letter:nth-child(3),
    .btn:focus .btn-letter:nth-child(3) {
      animation-delay: 0.16s;
    }
    .btn-letter:nth-child(4),
    .btn:focus .btn-letter:nth-child(4) {
      animation-delay: 0.24s;
    }
    .btn-letter:nth-child(5),
    .btn:focus .btn-letter:nth-child(5) {
      animation-delay: 0.32s;
    }
    .btn-letter:nth-child(6),
    .btn:focus .btn-letter:nth-child(6) {
      animation-delay: 0.4s;
    }
    .btn-letter:nth-child(7),
    .btn:focus .btn-letter:nth-child(7) {
      animation-delay: 0.48s;
    }
    .btn-letter:nth-child(8),
    .btn:focus .btn-letter:nth-child(8) {
      animation-delay: 0.56s;
    }
    .btn-letter:nth-child(9),
    .btn:focus .btn-letter:nth-child(9) {
      animation-delay: 0.64s;
    }
    .btn-letter:nth-child(10),
    .btn:focus .btn-letter:nth-child(10) {
      animation-delay: 0.72s;
    }
    .btn-letter:nth-child(11),
    .btn:focus .btn-letter:nth-child(11) {
      animation-delay: 0.8s;
    }
    .btn-letter:nth-child(12),
    .btn:focus .btn-letter:nth-child(12) {
      animation-delay: 0.88s;
    }
    .btn-letter:nth-child(13),
    .btn:focus .btn-letter:nth-child(13) {
      animation-delay: 0.96s;
    }

    /* Active state */
    .btn:active {
      border: solid 1px hsla(var(--highlight-color-hue), 100%, 80%, 70%);
      background-color: hsla(var(--highlight-color-hue), 50%, 20%, 0.5);
    }
    .btn:active::before {
      box-shadow:
        0 -8px 12px -6px #fffa inset,
        0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 80%) inset,
        1px 1px 1px #fff4,
        2px 2px 2px #fff2,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }
    .btn:active::after {
      opacity: 1;
      mask-image: linear-gradient(0deg, #fff, transparent);
      filter: brightness(200%);
    }
    .btn:active .btn-letter {
      text-shadow: 0 0 1px hsla(var(--highlight-color-hue), 100%, 90%, 90%);
      animation: none;
    }

    /* Hover state */
    .btn:hover {
      border: solid 1px hsla(var(--highlight-color-hue), 100%, 80%, 40%);
    }

    .btn:hover::before {
      box-shadow:
        0 -8px 8px -6px #fffa inset,
        0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 30%) inset,
        1px 1px 1px #fff2,
        2px 2px 2px #fff1,
        -1px -1px 1px #0002,
        -2px -2px 2px #0001;
    }

    .btn:hover::after {
      opacity: 1;
      mask-image: linear-gradient(0deg, #fff, transparent);
    }

    .btn:hover .btn-svg {
      stroke: #fff;
      filter: drop-shadow(0 0 3px hsl(var(--highlight-color-hue), 100%, 70%))
        drop-shadow(0 -4px 6px #0009);
      animation: none;
    }
    
    /* Reduced Motion Support for Button Animations */
    @media (prefers-reduced-motion: reduce) {
      .btn-letter {
        animation: none !important;
      }
      
      .btn-svg {
        animation: none !important;
      }
      
      .btn:focus .btn-letter {
        animation: none !important;
        filter: none !important;
        transform: none !important;
      }
    }
    
    /* Site Content */
    #siteContent {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease 0.3s, transform 0.6s ease 0.3s;
      pointer-events: none;
    }
    
    #siteContent.content-visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    
    .hero {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(135deg, #0f0f1a 0%, #1e1e2e 100%);
      padding: 100px 5% 60px;
    }
    .hero h1 {
      font-size: clamp(2.8rem, 8vw, 6rem);
      margin-bottom: 1.5rem;
      background: linear-gradient(90deg, #ff6b35, #ff8c5e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .hero p { font-size: 1.4rem; max-width: 700px; margin-bottom: 2.5rem; opacity: 0.9; }
    
    .cta {
      background: var(--primary);
      color: white;
      padding: 1rem 2.5rem;
      border: none;
      border-radius: 50px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    .cta:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(255,107,53,0.4); }

    /* Section 2: QuÃ© hacemos diferente */
    .what-we-do {
      min-height: 100vh;
      padding: 100px 5% 80px;
      background: var(--gray);
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      /* Initially hidden */
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, visibility 0.4s ease;
      /* Position for absolute background */
      position: relative;
      overflow: hidden;
    }
    
    /* Visible state for section-2 */
    .what-we-do.section-visible {
      opacity: 1;
      visibility: visible;
    }
    
    /* Animated background for section-2 */
    .section2-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background: radial-gradient(
          circle at 25% 25%,
          rgba(255, 0, 150, 0.15) 0%,
          transparent 50%
        ),
        radial-gradient(
          circle at 75% 25%,
          rgba(0, 255, 150, 0.15) 0%,
          transparent 50%
        ),
        radial-gradient(
          circle at 25% 75%,
          rgba(150, 0, 255, 0.15) 0%,
          transparent 50%
        ),
        radial-gradient(
          circle at 75% 75%,
          rgba(255, 150, 0, 0.15) 0%,
          transparent 50%
        ),
        repeating-conic-gradient(
          from 0deg at 50% 50%,
          #ff006e 0deg 30deg,
          #8338ec 30deg 60deg,
          #3a86ff 60deg 90deg,
          #06ffa5 90deg 120deg,
          #ffbe0b 120deg 150deg,
          #fb5607 150deg 180deg,
          #ff006e 180deg 210deg,
          #8338ec 210deg 240deg,
          #3a86ff 240deg 270deg,
          #06ffa5 270deg 300deg,
          #ffbe0b 300deg 330deg,
          #fb5607 330deg 360deg
        ),
        repeating-linear-gradient(
          45deg,
          transparent 0px,
          rgba(255, 255, 255, 0.05) 1px,
          rgba(255, 255, 255, 0.05) 2px,
          transparent 3px,
          transparent 20px
        ),
        conic-gradient(
          from 180deg at 50% 50%,
          #ff006e,
          #8338ec,
          #3a86ff,
          #06ffa5,
          #ffbe0b,
          #fb5607,
          #ff006e
        );

      background-size:
        200px 200px,
        200px 200px,
        200px 200px,
        200px 200px,
        400px 400px,
        50px 50px,
        100% 100%;

      animation:
        bg-rotate 20s linear infinite,
        bg-pulse 4s ease-in-out infinite alternate,
        bg-shift 15s ease-in-out infinite;
      
      /* Reduce opacity for better text readability */
      opacity: 0.3;
    }

    .section2-bg::before {
      content: "";
      position: absolute;
      inset: 0;
      /* Dark overlay to improve text readability with animated patterns */
      background: 
        linear-gradient(135deg, rgba(15, 15, 26, 0.7) 0%, rgba(30, 30, 46, 0.7) 100%),
        repeating-radial-gradient(
          circle at 30% 40%,
          transparent 0px,
          rgba(255, 255, 255, 0.05) 50px,
          transparent 100px
        ),
        repeating-radial-gradient(
          circle at 70% 60%,
          transparent 0px,
          rgba(0, 0, 0, 0.05) 30px,
          transparent 60px
        );
      animation: bg-counter-rotate 25s linear infinite;
    }

    .section2-bg::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-conic-gradient(
          from 90deg at 20% 80%,
          transparent 0deg,
          rgba(255, 255, 255, 0.1) 10deg,
          transparent 20deg,
          transparent 40deg
        ),
        repeating-conic-gradient(
          from 270deg at 80% 20%,
          transparent 0deg,
          rgba(0, 0, 0, 0.1) 15deg,
          transparent 30deg,
          transparent 60deg
        );
      background-size:
        300px 300px,
        250px 250px;
      animation: bg-spin 30s linear infinite reverse;
    }

    /* Keyframes for section-2 background */
    @keyframes bg-rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes bg-counter-rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(-360deg);
      }
    }

    @keyframes bg-spin {
      from {
        transform: rotate(0deg) scale(1);
      }
      50% {
        transform: rotate(180deg) scale(1.1);
      }
      to {
        transform: rotate(360deg) scale(1);
      }
    }

    @keyframes bg-pulse {
      from {
        filter: brightness(0.8) saturate(0.9) hue-rotate(0deg);
        background-size:
          200px 200px,
          200px 200px,
          200px 200px,
          200px 200px,
          400px 400px,
          50px 50px,
          100% 100%;
      }
      to {
        filter: brightness(1) saturate(1.1) hue-rotate(30deg);
        background-size:
          250px 250px,
          220px 220px,
          180px 180px,
          240px 240px,
          450px 450px,
          60px 60px,
          100% 100%;
      }
    }

    @keyframes bg-shift {
      0% {
        background-position:
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%;
      }
      33% {
        background-position:
          100% 0%,
          50% 50%,
          25% 75%,
          75% 25%,
          50% 0%,
          25% 25%,
          0% 0%;
      }
      66% {
        background-position:
          0% 100%,
          75% 25%,
          50% 50%,
          25% 75%,
          0% 50%,
          50% 50%,
          0% 0%;
      }
      100% {
        background-position:
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%;
      }
    }
    
    /* Content wrapper for section-2 to sit above background */
    .section2-content {
      position: relative;
      z-index: 1;
    }
    .what-we-do h2 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      margin-bottom: 1.5rem;
      color: white;
      font-weight: 700;
    }
    .what-we-do > p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 4rem;
      opacity: 0.9;
      line-height: 1.8;
    }
    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 2.5rem 2rem;
      transition: all 0.3s ease;
    }
    .card:hover {
      transform: translateY(-8px);
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(255, 107, 53, 0.3);
      box-shadow: 0 10px 40px rgba(255, 107, 53, 0.15);
    }
    .card-icon {
      font-size: 3rem;
      margin-bottom: 1.5rem;
      display: block;
    }
    .card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: white;
      font-weight: 600;
    }
    .card p {
      font-size: 1rem;
      opacity: 0.8;
      line-height: 1.6;
    }

    /* Mobile */
    @media (max-width: 768px) {
      html {
        scroll-padding-top: 70px; /* Adjusted for mobile header height */
      }
      
      nav { display: none; }
      
      /* Mobile intro must be REAL fullscreen */
      #introBanner {
        width: 100vw;
        height: 100vh; /* Fallback for all browsers */
        height: 100svh; /* Small viewport height fallback */
        height: 100dvh; /* Dynamic viewport height for mobile (preferred) */
        padding: 0;
        margin: 0;
      }
      
      .banner-container {
        width: 100%;
        height: 100%;
        /* Remove all height constraints */
        max-height: none;
        min-height: 0;
        border-radius: 0;
        margin: 0;
      }
      
      /* Bottom-right overlay on mobile with safe-area support */
      .banner-overlay {
        bottom: calc(25px + env(safe-area-inset-bottom, 0px)); /* Positioned lower on mobile + safe-area */
        right: calc(20px + env(safe-area-inset-right, 0px));
        left: auto;
        transform: none;
        flex-direction: column;
        align-items: flex-end;
        gap: 0.75rem;
      }
      
      .banner-title {
        font-size: 1.5rem;
      }
      
      .btn-wrapper {
        transform: scale(0.9);
      }
      
      .btn {
        font-size: 0.95rem;
      }
      
      /* Section 2 mobile adjustments */
      .what-we-do {
        padding: 60px 5% 50px;
      }
      .what-we-do h2 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
      }
      .what-we-do > p {
        font-size: 1rem;
        margin-bottom: 3rem;
      }
      .cards-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      .card {
        padding: 2rem 1.5rem;
      }
      
      /* Reduce animation intensity on mobile for better performance */
      .section2-bg {
        /* Reduce opacity even more on mobile */
        opacity: 0.2;
        /* Disable the pulse animation on mobile (heavy filter) */
        animation:
          bg-rotate 30s linear infinite,
          bg-shift 20s ease-in-out infinite;
      }
      
      .section2-bg::before {
        /* Disable counter-rotate on mobile */
        animation: none;
      }
      
      .section2-bg::after {
        /* Slower spin animation on mobile */
        animation: bg-spin 40s linear infinite reverse;
      }
    }

    /* ========================================
       CINEMATIC PORTAL TRANSITION
       ======================================== */
    
    /* Portal Overlay - Fixed, non-blocking by default */
    .portal-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(15, 15, 26, 0.95);
      backdrop-filter: blur(0px);
      -webkit-backdrop-filter: blur(0px);
      pointer-events: none;
      z-index: 9998;
      
      /* Initial hidden state */
      opacity: 0;
      visibility: hidden;
    }
    
    /* Animated state when portal is active */
    .portal-overlay.portal-active {
      opacity: 1;
      visibility: visible;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      animation: portalFadeIn 600ms ease-out forwards;
    }
    
    /* Hiding state */
    .portal-overlay.portal-hiding {
      opacity: 0;
      visibility: visible;
      backdrop-filter: blur(0px);
      -webkit-backdrop-filter: blur(0px);
      animation: portalFadeOut 800ms ease-out forwards;
    }
    
    @keyframes portalFadeIn {
      from {
        opacity: 0;
        backdrop-filter: blur(0px);
        -webkit-backdrop-filter: blur(0px);
      }
      to {
        opacity: 1;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      }
    }
    
    @keyframes portalFadeOut {
      from {
        opacity: 1;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      }
      to {
        opacity: 0;
        backdrop-filter: blur(0px);
        -webkit-backdrop-filter: blur(0px);
      }
    }
    
    /* Noise texture effect */
    .portal-overlay::before {
      content: '';
      position: absolute;
      inset: 0;
      /* Subtle fractal noise texture for added visual interest */
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
      opacity: 0;
      pointer-events: none;
      animation: noiseFlicker 250ms ease-out forwards;
    }
    
    .portal-overlay.portal-active::before {
      opacity: 1;
    }
    
    @keyframes noiseFlicker {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }
    
    /* Orange light sweep */
    .portal-sweep {
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 107, 53, 0.1) 25%,
        rgba(255, 107, 53, 0.4) 50%,
        rgba(255, 107, 53, 0.1) 75%,
        transparent 100%
      );
      pointer-events: none;
      opacity: 0;
    }
    
    .portal-overlay.portal-active .portal-sweep {
      animation: sweepAnimation 800ms ease-out forwards;
    }
    
    @keyframes sweepAnimation {
      0% {
        left: -100%;
        opacity: 0;
      }
      20% {
        opacity: 1;
      }
      80% {
        opacity: 1;
      }
      100% {
        left: 100%;
        opacity: 0;
      }
    }
    
    /* Reduced Motion Support for Portal */
    @media (prefers-reduced-motion: reduce) {
      .portal-overlay {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        animation: none !important;
        transition: opacity 150ms ease !important;
      }
      
      .portal-overlay.portal-active {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        animation: none !important;
      }
      
      .portal-overlay.portal-hiding {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        animation: none !important;
      }
      
      .portal-overlay::before,
      .portal-sweep {
        display: none !important;
      }
      
      /* Disable section-2 background animations for reduced motion */
      .section2-bg,
      .section2-bg::before,
      .section2-bg::after {
        animation: none !important;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">Ketos Agency</div>
    <nav>
      <a href="#servicios">Servicios</a>
      <a href="#about">Nosotros</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <!-- Premium Hero Banner with Spline -->
  <div id="introBanner">
    <div class="banner-container">
      <iframe 
        class="banner-iframe"
        id="splineIframe"
        allow="fullscreen"
        loading="eager"
      ></iframe>
      
      <div class="banner-overlay">
        <a href="#" class="banner-title" id="bannerTitle" aria-label="Ir al contenido principal">KETOS</a>
        <div class="btn-wrapper">
          <button class="btn" id="startButton" aria-label="Comenzar - Ocultar banner y ver contenido">
            <svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"
              ></path>
            </svg>

            <div class="txt-wrapper">
              <div class="txt-1">
                <span class="btn-letter">C</span>
                <span class="btn-letter">o</span>
                <span class="btn-letter">m</span>
                <span class="btn-letter">e</span>
                <span class="btn-letter">n</span>
                <span class="btn-letter">z</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">r</span>
              </div>
              <div class="txt-2">
                <span class="btn-letter">C</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">r</span>
                <span class="btn-letter">g</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">n</span>
                <span class="btn-letter">d</span>
                <span class="btn-letter">o</span>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Site Content -->
  <main id="siteContent">
    <section class="hero">
      <h1>Hacemos que las marcas crezcan.<br>Punto.</h1>
      <p>Sistemas digitales diseÃ±ados para vender, escalar y dominar su mercado.</p>
      <button class="cta">Quiero crecer â†’</button>
    </section>

    <!-- SECCIÃ“N 2: QuÃ© hacemos diferente -->
    <section id="section-2" class="what-we-do">
      <!-- Animated background -->
      <div class="section2-bg"></div>
      
      <!-- Content wrapper -->
      <div class="section2-content">
        <h2>No hacemos marketing.<br>Creamos mÃ¡quinas de crecimiento.</h2>
        <p>Estrategia, IA y creatividad enfocadas en resultados medibles.</p>
        
        <div class="cards-container">
          <div class="card">
            <span class="card-icon">ðŸ“ˆ</span>
            <h3>Estrategia</h3>
            <p>Decisiones que generan dinero, no presentaciones.</p>
          </div>
          
          <div class="card">
            <span class="card-icon">ðŸ§ </span>
            <h3>IA & AutomatizaciÃ³n</h3>
            <p>Escala mÃ¡s rÃ¡pido con menos fricciÃ³n.</p>
          </div>
          
          <div class="card">
            <span class="card-icon">ðŸŽ¨</span>
            <h3>Creatividad</h3>
            <p>DiseÃ±o que impacta y convierte.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- AquÃ­ irÃ¡n despuÃ©s las secciones de servicios, about, etc. -->
  </main>

  <!-- Cinematic Portal Transition Overlay -->
  <div class="portal-overlay" aria-hidden="true">
    <div class="portal-sweep"></div>
  </div>

  <script>
    // Cache-busting for Spline iframe
    const splineUrl = 'https://my.spline.design/nexbotrobotcharacterconcept-Zb5s4qJ7pgx5xVCSjat7oEDO/';
    const splineIframe = document.getElementById('splineIframe');
    if (splineIframe) {
      splineIframe.src = splineUrl + '?v=' + Date.now();
    }
    
    // Premium Spline Hero Intro Functionality
    const introBanner = document.getElementById('introBanner');
    const siteContent = document.getElementById('siteContent');
    const startButton = document.getElementById('startButton');
    const bannerTitle = document.getElementById('bannerTitle');
    const header = document.querySelector('header');
    
    // TEMPORARILY DISABLED: Skip intro functionality (for development)
    // const hasSeenIntro = sessionStorage.getItem('ketosIntroSeen');
    const hasSeenIntro = false; // Always show intro during development
    
    if (hasSeenIntro === true) {
      // Skip intro, show content immediately
      introBanner.classList.add('intro-hidden');
      siteContent.classList.add('content-visible');
      document.documentElement.classList.remove('intro-active');
      document.body.classList.remove('intro-active');
      header.classList.remove('header-hidden');
    } else {
      // Intro is visible, hide header and block scroll
      document.documentElement.classList.add('intro-active');
      document.body.classList.add('intro-active');
      header.classList.add('header-hidden');
    }
    
    function hideBannerAndShowContent(e) {
      e.preventDefault();
      
      // TEMPORARILY DISABLED: Save to sessionStorage (for development)
      // sessionStorage.setItem('ketosIntroSeen', 'true');
      
      // Hide banner with transition
      introBanner.classList.add('intro-hidden');
      
      // Show content with transition
      siteContent.classList.add('content-visible');
      
      // Enable body scroll and remove html/body overrides
      document.documentElement.classList.remove('intro-active');
      document.body.classList.remove('intro-active');
      
      // Show header with smooth animation
      header.classList.remove('header-hidden');
    }
    
    // Click handlers
    startButton.addEventListener('click', hideBannerAndShowContent);
    bannerTitle.addEventListener('click', hideBannerAndShowContent);
    
    // Keyboard support for Enter and Space keys on title (anchor element)
    bannerTitle.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        hideBannerAndShowContent(e);
      }
    });
  </script>

  <script>
    // ========================================
    // CINEMATIC PORTAL TRANSITION
    // ========================================
    
    (function() {
      'use strict';
      
      // Configuration
      const PORTAL_CONFIG = {
        HERO_SELECTOR: '.hero',
        SECTION2_SELECTOR: '#section-2',
        PORTAL_OVERLAY_SELECTOR: '.portal-overlay',
        SHOW_DURATION: 400, // Duration (in ms) for portal effect
        FADE_OUT_DURATION: 300, // Duration for fade out animation
      };
      
      // State
      let hasPortalTriggered = false;
      let portalOverlay = null;
      let section2 = null;
      let heroSection = null;
      let lastScrollY = 0;
      let isScrollingDown = true;
      let heroObserver = null;
      let section2Observer = null;
      
      /**
       * Show the portal transition and then reveal section-2
       */
      function showPortalAndSection2() {
        if (!portalOverlay || !section2 || hasPortalTriggered) return;
        
        hasPortalTriggered = true;
        console.log('[Portal] Cinematic transition triggered (scroll down from hero)');
        
        // Add active class to trigger portal animation
        portalOverlay.classList.add('portal-active');
        
        // After portal effect completes, hide portal and show section-2
        setTimeout(() => {
          hidePortal();
          
          // Show section-2 after portal effect
          setTimeout(() => {
            section2.classList.add('section-visible');
            console.log('[Portal] Section-2 now visible');
          }, 100);
        }, PORTAL_CONFIG.SHOW_DURATION);
      }
      
      /**
       * Hide the portal transition
       */
      function hidePortal() {
        if (!portalOverlay) return;
        
        // Remove active class and add hiding class
        portalOverlay.classList.remove('portal-active');
        portalOverlay.classList.add('portal-hiding');
        
        // After fade out, clean up classes
        setTimeout(() => {
          if (portalOverlay) {
            portalOverlay.classList.remove('portal-hiding');
            console.log('[Portal] Transition complete');
          }
        }, PORTAL_CONFIG.FADE_OUT_DURATION);
      }
      
      /**
       * Track scroll direction
       */
      function updateScrollDirection() {
        const currentScrollY = window.scrollY || window.pageYOffset;
        isScrollingDown = currentScrollY > lastScrollY;
        lastScrollY = currentScrollY;
      }
      
      /**
       * Handle hero section intersection
       */
      function handleHeroIntersection(entries) {
        entries.forEach(entry => {
          // When hero is leaving viewport downwards, trigger portal
          if (!entry.isIntersecting && isScrollingDown && !hasPortalTriggered) {
            console.log('[Portal] Hero section leaving viewport (scrolling down)');
            showPortalAndSection2();
            
            // Disconnect hero observer after trigger
            if (heroObserver) {
              heroObserver.disconnect();
              heroObserver = null;
            }
          }
        });
      }
      
      /**
       * Handle section-2 intersection for scroll up behavior
       */
      function handleSection2Intersection(entries) {
        entries.forEach(entry => {
          if (!entry.isIntersecting && !isScrollingDown && hasPortalTriggered) {
            // When scrolling up from section-2 and it's leaving viewport
            // Hide section-2 without portal effect
            console.log('[Portal] Scrolling up from section-2, hiding it');
            section2.classList.remove('section-visible');
            
            // Reset the trigger state to allow future transitions
            hasPortalTriggered = false;
            
            // Re-setup hero observer
            setupHeroObserver();
          } else if (entry.isIntersecting && isScrollingDown && hasPortalTriggered) {
            // If section-2 is visible and we're scrolling down, ensure it stays visible
            section2.classList.add('section-visible');
          }
        });
      }
      
      /**
       * Setup IntersectionObserver for hero section
       */
      function setupHeroObserver() {
        if (!heroSection) return;
        
        const options = {
          root: null,
          threshold: 0.1,
          rootMargin: '0px',
        };
        
        heroObserver = new IntersectionObserver(handleHeroIntersection, options);
        heroObserver.observe(heroSection);
        
        console.log('[Portal] Hero observer setup');
      }
      
      /**
       * Setup IntersectionObserver for section-2
       */
      function setupSection2Observer() {
        if (!section2) return;
        
        const options = {
          root: null,
          threshold: 0.3,
          rootMargin: '0px',
        };
        
        section2Observer = new IntersectionObserver(handleSection2Intersection, options);
        section2Observer.observe(section2);
        
        console.log('[Portal] Section-2 observer setup');
      }
      
      /**
       * Initialize the portal transition system
       */
      function initPortal() {
        // Check for reduced motion preference
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        
        if (prefersReducedMotion) {
          console.log('[Portal] Reduced motion detected. Portal effects will be simplified.');
        }
        
        // Get elements
        portalOverlay = document.querySelector(PORTAL_CONFIG.PORTAL_OVERLAY_SELECTOR);
        section2 = document.querySelector(PORTAL_CONFIG.SECTION2_SELECTOR);
        heroSection = document.querySelector(PORTAL_CONFIG.HERO_SELECTOR);
        
        if (!portalOverlay) {
          console.warn('[Portal] Portal overlay element not found');
          return;
        }
        
        if (!section2) {
          console.warn('[Portal] Section-2 element not found');
          return;
        }
        
        if (!heroSection) {
          console.warn('[Portal] Hero section element not found');
          return;
        }
        
        // Track scroll direction
        window.addEventListener('scroll', updateScrollDirection, { passive: true });
        
        // Setup intersection observers
        setupHeroObserver();
        setupSection2Observer();
        
        console.log('[Portal] Init complete');
      }
      
      // Initialize when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPortal);
      } else {
        initPortal();
      }
      
    })();
  </script>

</body>
</html>
