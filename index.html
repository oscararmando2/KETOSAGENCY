<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ketos Agency | Marketing que Conquista</title>
  <meta name="description" content="Agencia de marketing digital en M√©xico. Estrategias, creatividad y resultados reales para tu marca."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #0E0E11;    /* negro principal - ultra minimal */
      --dark: #0E0E11;       /* negro principal */
      --gray: #2A2A2A;       /* gris medio para fondos secundarios */
      --light: #F2F2F2;      /* blanco suave para textos */
      --header-height: 90px; /* Fixed header height */
      --header-height-mobile: 70px; /* Mobile header height */
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px; /* Account for fixed header height */
    }
    
    body {
      font-family: 'Protest Guerrilla', sans-serif;
      background: var(--dark);
      color: var(--light);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    html.intro-active,
    body.intro-active {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: rgba(14,14,17,0.95);
      backdrop-filter: blur(10px);
      padding: 1.2rem 5%;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    header.header-hidden {
      opacity: 0;
      transform: translateY(-20px);
      pointer-events: none;
    }
    .logo { font-size: 1.8rem; font-weight: 700; color: var(--light); }
    nav a { color: white; text-decoration: none; margin-left: 2rem; font-weight: 500; }
    nav a:hover { color: rgba(242, 242, 242, 0.7); }

    /* Premium Hero Banner with Spline */
    #introBanner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 999;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      background: var(--dark);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    #introBanner.intro-hidden {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
    }
    
    .banner-container {
      position: relative;
      width: 100%;
      height: min(92vh, 820px);
      min-height: 520px;
      overflow: hidden;
      background: var(--dark);
    }
    
    /* Dark gradient overlay for integration */
    .banner-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 50% 50%, transparent 0%, rgba(14, 14, 17, 0.2) 70%);
      pointer-events: none;
      z-index: 1;
    }
    
    .banner-iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      position: relative;
      z-index: 0;
    }
    
    /* Minimalist overlay - bottom right corner */
    .banner-overlay {
      position: absolute;
      bottom: 20px; /* Moved down (was 30px) for desktop positioning */
      right: 25px; /* Moved right (was 40px) for desktop positioning */
      left: auto;
      display: flex;
      align-items: center;
      gap: 1rem;
      pointer-events: none;
      z-index: 10;
    }
    
    .banner-overlay > * {
      pointer-events: auto;
    }
    
    
    /* New Animated Button Styles */
    .btn-wrapper {
      position: relative;
      display: inline-block;
      z-index: 10;
    }

    .btn {
      --border-radius: 24px;
      --padding: 4px;
      --transition: 0.4s;
      --button-color: #0E0E11; /* Negro principal */

      user-select: none;
      display: flex;
      justify-content: center;
      padding: 0.7em 0.7em 0.7em 1.3em;
      font-family: "Protest Guerrilla", sans-serif;
      font-size: 1.4em;
      font-weight: 400;

      background-color: var(--button-color);

      box-shadow:
        /* inset */
        inset 0px 1px 1px rgba(255, 255, 255, 0.05),
        inset 0px 2px 2px rgba(255, 255, 255, 0.03),
        /* drop */ 
        0px -1px 1px rgba(0, 0, 0, 0.02),
        0px -2px 2px rgba(0, 0, 0, 0.03);

      border: solid 1px rgba(242, 242, 242, 0.1);
      border-radius: var(--border-radius);
      cursor: pointer;

      transition:
        box-shadow var(--transition),
        border var(--transition),
        background-color var(--transition);
    }
    .btn::before {
      content: "";
      position: absolute;
      top: calc(0px - var(--padding));
      left: calc(0px - var(--padding));
      width: calc(100% + var(--padding) * 2);
      height: calc(100% + var(--padding) * 2);
      border-radius: calc(var(--border-radius) + var(--padding));
      pointer-events: none;
      background-image: linear-gradient(0deg, rgba(14, 14, 17, 0.3), rgba(14, 14, 17, 0.6));

      z-index: -1;
      transition:
        box-shadow var(--transition),
        filter var(--transition);
      box-shadow:
        1px 1px 1px rgba(242, 242, 242, 0.05),
        -1px -1px 1px rgba(0, 0, 0, 0.1);
    }
    .btn::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      pointer-events: none;
      background-image: linear-gradient(
        0deg,
        rgba(242, 242, 242, 0.03),
        transparent
      );
      background-position: 0 0;
      opacity: 0;
      transition:
        opacity var(--transition),
        filter var(--transition);
    }

    .btn-letter {
      position: relative;
      display: inline-block;
      color: rgba(242, 242, 242, 0.8);
      animation: letter-anim 2s ease-in-out infinite;
      transition:
        color var(--transition),
        text-shadow var(--transition),
        opacity var(--transition);
    }
    
    /* Make space characters more visible */
    .btn-letter {
      margin-right: 0.05em;
    }
    
    /* Extra space for actual space characters */
    .txt-1 .btn-letter:nth-child(7),
    .txt-1 .btn-letter:nth-child(14) {
      margin-right: 0.4em;
    }

    @keyframes letter-anim {
      50% {
        text-shadow: 0 0 1px rgba(242, 242, 242, 0.3);
        color: #F2F2F2;
      }
    }

    .btn-svg {
      flex-grow: 1;
      height: 24px;
      margin-right: 0.5rem;
      fill: none;
      stroke: #F2F2F2;
      stroke-width: 1.5;
      animation: flicker 2s linear infinite;
      animation-delay: 0.5s;
      filter: drop-shadow(0 0 1px rgba(242, 242, 242, 0.3));
      transition:
        stroke var(--transition),
        filter var(--transition),
        opacity var(--transition);
    }
    @keyframes flicker {
      50% {
        opacity: 0.3;
      }
    }

    /* Focus state */
    .txt-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      min-width: 6.4em;
    }
    .txt-1,
    .txt-2 {
      position: absolute;
      display: inline-flex;
      gap: 0;
    }
    .txt-1 {
      animation: appear-anim 1s ease-in-out forwards;
    }
    .txt-2 {
      opacity: 0;
    }
    @keyframes appear-anim {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }


    .btn:focus .btn-letter {
      animation:
        focused-letter-anim 1s ease-in-out forwards,
        letter-anim 1.2s ease-in-out infinite;
      animation-delay: 0s, 1s;
    }
    @keyframes focused-letter-anim {
      0%,
      100% {
        filter: blur(0px);
      }
      50% {
        transform: scale(2);
        filter: blur(10px) brightness(120%);
      }
    }
    .btn:focus .btn-svg {
      animation-duration: 1.2s;
      animation-delay: 0.2s;
    }

    .btn:focus::before {
      box-shadow:
        1px 1px 1px rgba(242, 242, 242, 0.1),
        -1px -1px 1px rgba(0, 0, 0, 0.1);
    }
    .btn:focus::after {
      opacity: 0.3;
      mask-image: linear-gradient(0deg, rgba(242, 242, 242, 0.5), transparent);
      filter: brightness(100%);
    }

    /* Animation delays for .btn-letter elements */
    .btn-letter:nth-child(1),
    .btn:focus .btn-letter:nth-child(1) {
      animation-delay: 0s;
    }
    .btn-letter:nth-child(2),
    .btn:focus .btn-letter:nth-child(2) {
      animation-delay: 0.08s;
    }
    .btn-letter:nth-child(3),
    .btn:focus .btn-letter:nth-child(3) {
      animation-delay: 0.16s;
    }
    .btn-letter:nth-child(4),
    .btn:focus .btn-letter:nth-child(4) {
      animation-delay: 0.24s;
    }
    .btn-letter:nth-child(5),
    .btn:focus .btn-letter:nth-child(5) {
      animation-delay: 0.32s;
    }
    .btn-letter:nth-child(6),
    .btn:focus .btn-letter:nth-child(6) {
      animation-delay: 0.4s;
    }
    .btn-letter:nth-child(7),
    .btn:focus .btn-letter:nth-child(7) {
      animation-delay: 0.48s;
    }
    .btn-letter:nth-child(8),
    .btn:focus .btn-letter:nth-child(8) {
      animation-delay: 0.56s;
    }
    .btn-letter:nth-child(9),
    .btn:focus .btn-letter:nth-child(9) {
      animation-delay: 0.64s;
    }
    .btn-letter:nth-child(10),
    .btn:focus .btn-letter:nth-child(10) {
      animation-delay: 0.72s;
    }
    .btn-letter:nth-child(11),
    .btn:focus .btn-letter:nth-child(11) {
      animation-delay: 0.8s;
    }
    .btn-letter:nth-child(12),
    .btn:focus .btn-letter:nth-child(12) {
      animation-delay: 0.88s;
    }
    .btn-letter:nth-child(13),
    .btn:focus .btn-letter:nth-child(13) {
      animation-delay: 0.96s;
    }

    /* Active state */
    .btn:active {
      border: solid 1px rgba(242, 242, 242, 0.3);
      background-color: rgba(42, 42, 42, 0.5);
    }
    .btn:active::before {
      box-shadow:
        1px 1px 1px rgba(242, 242, 242, 0.1),
        -1px -1px 1px rgba(0, 0, 0, 0.1);
    }
    .btn:active::after {
      opacity: 0.5;
      mask-image: linear-gradient(0deg, rgba(242, 242, 242, 0.5), transparent);
      filter: brightness(110%);
    }
    .btn:active .btn-letter {
      text-shadow: 0 0 1px rgba(242, 242, 242, 0.5);
      animation: none;
    }

    /* Hover state */
    .btn:hover {
      border: solid 1px rgba(242, 242, 242, 0.2);
    }

    .btn:hover::before {
      box-shadow:
        1px 1px 1px rgba(242, 242, 242, 0.08),
        -1px -1px 1px rgba(0, 0, 0, 0.1);
    }

    .btn:hover::after {
      opacity: 0.5;
      mask-image: linear-gradient(0deg, rgba(242, 242, 242, 0.3), transparent);
    }

    .btn:hover .btn-svg {
      stroke: #F2F2F2;
      filter: drop-shadow(0 0 2px rgba(242, 242, 242, 0.3));
      animation: none;
    }
    
    /* Reduced Motion Support for Button Animations */
    @media (prefers-reduced-motion: reduce) {
      .btn-letter {
        animation: none !important;
      }
      
      .btn-svg {
        animation: none !important;
      }
      
      .btn:focus .btn-letter {
        animation: none !important;
        filter: none !important;
        transform: none !important;
      }
    }
    
    /* Site Content */
    #siteContent {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease 0.3s, transform 0.6s ease 0.3s;
      pointer-events: none;
    }
    
    #siteContent.content-visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    
    .hero {
      --cyber-neon-color: #00f3ff; /* Neon cyan color for effects - same as Cyber Core */
      --hero-bg-x: 0px;
      --hero-bg-y: 0px;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: rgba(10, 10, 10, 0.8); /* Same as Cyber Core card background */
      padding: 100px 5% 60px;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1); /* Same as Cyber Core */
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }

    /* Cyber grid background effect - Same as Cyber Core card */
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(color-mix(in srgb, var(--cyber-neon-color) 10%, transparent) 1px, transparent 1px),
        linear-gradient(90deg, color-mix(in srgb, var(--cyber-neon-color) 10%, transparent) 1px, transparent 1px);
      background-size: 30px 30px;
      opacity: 0.5; /* Same as Cyber Core */
      -webkit-mask-image: radial-gradient(circle at center, white, transparent 80%);
      mask-image: radial-gradient(circle at center, white, transparent 80%);
      z-index: 1;
      pointer-events: none;
      transition: transform 0.3s ease-out;
      will-change: transform;
    }

    /* Desktop: Mouse-controlled movement */
    @media (min-width: 768px) {
      .hero::before {
        transform: translate(var(--hero-bg-x), var(--hero-bg-y));
      }
    }

    /* Mobile: Use CSS variables for device orientation OR fallback animation */
    @media (max-width: 767px) {
      .hero::before {
        /* Will be overridden by transform from CSS variables when device orientation is active */
        transform: translate(var(--hero-bg-x, 0), var(--hero-bg-y, 0));
      }
      
      /* Fallback animation when device orientation is not active */
      .hero.use-fallback-animation::before {
        animation: hero-bg-mobile-move 20s ease-in-out infinite;
      }
    }

    @keyframes hero-bg-mobile-move {
      0%, 100% {
        transform: translate(0, 0);
      }
      25% {
        transform: translate(20px, -20px);
      }
      50% {
        transform: translate(-15px, 20px);
      }
      75% {
        transform: translate(20px, 15px);
      }
    }

    /* Radial glow effect - Same as Cyber Core card */
    .hero::after {
      content: "";
      position: absolute;
      width: 200%;
      height: 200%;
      background: radial-gradient(
        circle at center,
        color-mix(in srgb, var(--cyber-neon-color) 20%, transparent), /* Same as Cyber Core */
        transparent 50%
      );
      top: -50%;
      left: -50%;
      opacity: 0; /* Start at 0, will be revealed on hover/movement */
      z-index: 0;
      pointer-events: none;
      transition: opacity 0.3s ease-out, transform 0.3s ease-out;
      will-change: transform, opacity;
    }

    /* Desktop: Mouse-controlled movement */
    @media (min-width: 768px) {
      .hero::after {
        transform: translate(calc(var(--hero-bg-x) * 0.5), calc(var(--hero-bg-y) * 0.5));
        opacity: 0.3; /* Show glow on desktop */
      }
      
      /* Show more glow when mouse is over hero */
      .hero:hover::after {
        opacity: 0.5;
      }
    }

    /* Mobile: Use CSS variables for device orientation OR fallback animation */
    @media (max-width: 767px) {
      .hero::after {
        /* Will be overridden by transform from CSS variables when device orientation is active */
        transform: translate(calc(var(--hero-bg-x, 0px) * 0.5), calc(var(--hero-bg-y, 0px) * 0.5));
        opacity: 0.3; /* Show glow on mobile */
      }
      
      /* Fallback animation when device orientation is not active */
      .hero.use-fallback-animation::after {
        animation: hero-glow-mobile-move 25s ease-in-out infinite;
        opacity: 0.3;
      }
    }

    @keyframes hero-glow-mobile-move {
      0%, 100% {
        transform: translate(0, 0);
      }
      33% {
        transform: translate(-25px, 25px);
      }
      66% {
        transform: translate(25px, -20px);
      }
    }
    .hero h1 {
      font-size: clamp(2.8rem, 8vw, 6rem);
      margin-bottom: 1.5rem;
      color: var(--light);
      position: relative;
      z-index: 5;
      font-weight: 900;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      line-height: 1.2;
      mix-blend-mode: lighten;
      --hero-title-x: 0px;
      --hero-title-y: 0px;
      transition: transform 0.2s ease-out;
      transform-style: preserve-3d;
    }

    /* Glitch effect for hero title - Reuse existing Cyber Core animations */
    .hero-glitch {
      position: relative;
    }
    
    .hero-glitch::before,
    .hero-glitch::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 10, 10, 0.8);
    }
    
    .hero-glitch::before {
      left: 2px;
      text-shadow: -1px 0 #ff00c1;
      clip: rect(44px, 9999px, 56px, 0);
      animation: cyber-glitch-anim 5s infinite linear alternate-reverse;
    }
    
    .hero-glitch::after {
      left: -2px;
      text-shadow: -1px 0 #00fff9;
      clip: rect(44px, 9999px, 56px, 0);
      animation: cyber-glitch-anim2 5s infinite linear alternate-reverse;
    }

    /* Subtle movement for hero title - Desktop mouse-controlled */
    @media (min-width: 768px) {
      .hero h1 {
        transform: translateZ(40px) rotateX(var(--hero-title-rotate-x, 0deg)) rotateY(var(--hero-title-rotate-y, 0deg));
      }
    }

    /* Subtle movement for hero title - Mobile orientation-controlled or auto-animation */
    @media (max-width: 767px) {
      .hero h1 {
        transform: translateZ(40px) rotateX(var(--hero-title-rotate-x, 0deg)) rotateY(var(--hero-title-rotate-y, 0deg));
      }
      
      .hero.use-fallback-animation h1 {
        animation: hero-title-mobile-move 15s ease-in-out infinite;
      }
    }

    @keyframes hero-title-mobile-move {
      0%, 100% {
        transform: translateZ(40px) rotateX(0deg) rotateY(0deg);
      }
      25% {
        transform: translateZ(40px) rotateX(3deg) rotateY(-3deg);
      }
      50% {
        transform: translateZ(40px) rotateX(-3deg) rotateY(3deg);
      }
      75% {
        transform: translateZ(40px) rotateX(3deg) rotateY(2deg);
      }
    }

    /* Disable all movement and animations when prefers-reduced-motion */
    @media (prefers-reduced-motion: reduce) {
      .hero::before,
      .hero::after,
      .hero h1,
      .hero.use-fallback-animation::before,
      .hero.use-fallback-animation::after,
      .hero.use-fallback-animation h1 {
        animation: none !important;
        transform: none !important;
        transition: none !important;
      }
      
      .hero-glitch::before,
      .hero-glitch::after {
        animation: none !important;
      }
    }

    .hero p { 
      font-size: 1.4rem; 
      max-width: 700px; 
      margin-bottom: 2.5rem; 
      opacity: 0.9; 
      color: var(--light); 
      position: relative;
      z-index: 5;
    }
    
    .cta {
      background: var(--gray);
      color: var(--light);
      padding: 1rem 2.5rem;
      border: 1px solid rgba(242, 242, 242, 0.1);
      border-radius: 50px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    .cta:hover { 
      background: rgba(42, 42, 42, 0.8); 
      border-color: rgba(242, 242, 242, 0.2);
      transform: translateY(-2px); 
    }

    /* Section 2: Qu√© hacemos diferente */
    .what-we-do {
      min-height: 100vh;
      padding-top: 12vh;
      padding-bottom: 12vh;
      background: var(--gray);
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      /* Always visible by default */
      opacity: 1;
      visibility: visible;
      /* Position for absolute background */
      position: relative;
      overflow: visible;
    }
    
    /* Animated background for section-2 */
    .section2-bg {
      position: absolute;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background: radial-gradient(
          circle at 25% 25%,
          rgba(255, 0, 150, 0.12) 0%,
          transparent 50%
        ),
        radial-gradient(
          circle at 75% 25%,
          rgba(0, 255, 150, 0.12) 0%,
          transparent 50%
        ),
        radial-gradient(
          circle at 25% 75%,
          rgba(150, 0, 255, 0.12) 0%,
          transparent 50%
        ),
        radial-gradient(
          circle at 75% 75%,
          rgba(255, 150, 0, 0.12) 0%,
          transparent 50%
        ),
        repeating-conic-gradient(
          from 0deg at 50% 50%,
          #ff006e 0deg 30deg,
          #8338ec 30deg 60deg,
          #3a86ff 60deg 90deg,
          #06ffa5 90deg 120deg,
          #ffbe0b 120deg 150deg,
          #fb5607 150deg 180deg
        ),
        repeating-linear-gradient(
          45deg,
          transparent 0px,
          rgba(255, 255, 255, 0.04) 1px,
          rgba(255, 255, 255, 0.04) 2px,
          transparent 3px,
          transparent 20px
        ),
        conic-gradient(
          from 180deg at 50% 50%,
          #ff006e,
          #8338ec,
          #3a86ff,
          #06ffa5,
          #ffbe0b,
          #fb5607,
          #ff006e
        );

      background-size:
        200px 200px,
        200px 200px,
        200px 200px,
        200px 200px,
        400px 400px,
        50px 50px,
        100% 100%;

      animation:
        bg-rotate 20s linear infinite,
        bg-pulse 4s ease-in-out infinite alternate,
        bg-shift 15s ease-in-out infinite;
      
      /* Reduce opacity for better text readability */
      opacity: 0.25;
    }

    .section2-bg::before {
      content: "";
      position: absolute;
      inset: 0;
      /* Dark overlay to improve text readability */
      background: 
        linear-gradient(135deg, rgba(14, 14, 17, 0.6) 0%, rgba(42, 42, 42, 0.6) 100%),
        repeating-radial-gradient(
          circle at 30% 40%,
          transparent 0px,
          rgba(255, 255, 255, 0.04) 50px,
          transparent 100px
        ),
        repeating-radial-gradient(
          circle at 70% 60%,
          transparent 0px,
          rgba(0, 0, 0, 0.04) 30px,
          transparent 60px
        );
      animation: bg-counter-rotate 25s linear infinite;
    }

    .section2-bg::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-conic-gradient(
          from 90deg at 20% 80%,
          transparent 0deg,
          rgba(255, 255, 255, 0.08) 10deg,
          transparent 20deg,
          transparent 40deg
        ),
        repeating-conic-gradient(
          from 270deg at 80% 20%,
          transparent 0deg,
          rgba(0, 0, 0, 0.08) 15deg,
          transparent 30deg,
          transparent 60deg
        );
      background-size:
        300px 300px,
        250px 250px;
      animation: bg-spin 30s linear infinite reverse;
    }

    /* Keyframes for section-2 background */
    @keyframes bg-rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes bg-counter-rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(-360deg);
      }
    }

    @keyframes bg-spin {
      from {
        transform: rotate(0deg) scale(1);
      }
      50% {
        transform: rotate(180deg) scale(1.1);
      }
      to {
        transform: rotate(360deg) scale(1);
      }
    }

    @keyframes bg-pulse {
      from {
        filter: brightness(0.8) saturate(0.9) hue-rotate(0deg);
        background-size:
          200px 200px,
          200px 200px,
          200px 200px,
          200px 200px,
          400px 400px,
          50px 50px,
          100% 100%;
      }
      to {
        filter: brightness(1) saturate(1.1) hue-rotate(30deg);
        background-size:
          250px 250px,
          220px 220px,
          180px 180px,
          240px 240px,
          450px 450px,
          60px 60px,
          100% 100%;
      }
    }

    @keyframes bg-shift {
      0% {
        background-position:
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%;
      }
      33% {
        background-position:
          100% 0%,
          50% 50%,
          25% 75%,
          75% 25%,
          50% 0%,
          25% 25%,
          0% 0%;
      }
      66% {
        background-position:
          0% 100%,
          75% 25%,
          50% 50%,
          25% 75%,
          0% 50%,
          50% 50%,
          0% 0%;
      }
      100% {
        background-position:
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%,
          0% 0%;
      }
    }
    
    /* Content wrapper for section-2 to sit above background */
    .section2-content {
      position: relative;
      z-index: 1;
    }
    
    /* Sticky header block for headline elements */
    #section-2 .sticky-head {
      position: sticky;
      top: var(--header-height);  /* below fixed header */
      z-index: 5;
      max-width: 980px;
      margin: 0 auto 40px;
      padding: 18px 18px 22px;
      background: rgba(14,14,17,0.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(242,242,242,0.08);
      border-radius: 18px;
    }
    .what-we-do h2 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      margin-bottom: 1.5rem;
      color: white;
      font-weight: 700;
    }
    
    /* Removed progressive reveal - Elements are now visible by default */
    #section-2 .main-title,
    #section-2 .subtitle {
      font-size: clamp(2rem, 5vw, 3.5rem);
      margin-bottom: 1.5rem;
      color: white;
      font-weight: 700;
    }
    
    #section-2 .subtitle {
      margin-top: 0;
    }
    
    .what-we-do > p,
    .what-we-do .description {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 4rem;
      line-height: 1.8;
    }
    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 28px auto 0;
    }
    .card {
      background: rgba(42, 42, 42, 0.5);
      border: 1px solid rgba(242, 242, 242, 0.05);
      border-radius: 16px;
      padding: 2.5rem 2rem;
      transition: all 0.3s ease;
    }
    
    /* Hover effect for cards */
    .card:hover {
      transform: translateY(-4px);
      background: rgba(42, 42, 42, 0.7);
      border-color: rgba(242, 242, 242, 0.1);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
    .card-icon {
      font-size: 3rem;
      margin-bottom: 1.5rem;
      display: block;
    }
    .card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: var(--light);
      font-weight: 600;
    }
    .card p {
      font-size: 1rem;
      opacity: 0.8;
      line-height: 1.6;
      color: var(--light);
    }

    /* Mobile */
    @media (max-width: 768px) {
      html {
        scroll-padding-top: 70px; /* Adjusted for mobile header height */
      }
      
      nav { display: none; }
      
      /* Mobile intro must be REAL fullscreen */
      #introBanner {
        width: 100vw;
        height: 100vh; /* Fallback for all browsers */
        height: 100svh; /* Small viewport height fallback */
        height: 100dvh; /* Dynamic viewport height for mobile (preferred) */
        padding: 0;
        margin: 0;
      }
      
      .banner-container {
        width: 100%;
        height: 100%;
        /* Remove all height constraints */
        max-height: none;
        min-height: 0;
        border-radius: 0;
        margin: 0;
      }
      
      /* Bottom-right overlay on mobile with safe-area support */
      .banner-overlay {
        bottom: calc(25px + env(safe-area-inset-bottom, 0px)); /* Positioned lower on mobile + safe-area */
        right: calc(20px + env(safe-area-inset-right, 0px));
        left: auto;
        transform: none;
        flex-direction: column;
        align-items: flex-end;
        gap: 0.75rem;
      }
      
      .btn-wrapper {
        transform: scale(0.9);
      }
      
      .btn {
        font-size: 0.95rem;
      }
      
      /* Section 2 mobile adjustments */
      .what-we-do {
        min-height: 100vh;
        padding-top: 8vh;
        padding-bottom: 8vh;
      }
      
      #section-2 .sticky-head {
        top: var(--header-height-mobile); /* Adjusted for mobile header */
        padding: 14px 14px 18px;
        border-radius: 14px;
      }
      
      .what-we-do h2,
      #section-2 .main-title,
      #section-2 .subtitle {
        font-size: 1.8rem;
        margin-bottom: 1rem;
      }
      .what-we-do > p,
      #section-2 .description {
        font-size: 1rem;
        margin-bottom: 2rem;
      }
      .cards-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        margin-top: 20px;
      }
      .card {
        padding: 2rem 1.5rem;
      }
      
      /* Reduce animation intensity on mobile for better performance */
      .section2-bg {
        /* Reduce opacity even more on mobile */
        opacity: 0.2;
        /* Disable the pulse animation on mobile (heavy filter) */
        animation:
          bg-rotate 30s linear infinite,
          bg-shift 20s ease-in-out infinite;
      }
      
      .section2-bg::before {
        /* Disable counter-rotate on mobile */
        animation: none;
      }
      
      .section2-bg::after {
        /* Slower spin animation on mobile */
        animation: bg-spin 40s linear infinite reverse;
      }
    }

    /* Reduced Motion Support */
    @media (prefers-reduced-motion: reduce) {
      /* Disable section-2 background animations for reduced motion */
      .section2-bg,
      .section2-bg::before,
      .section2-bg::after {
        animation: none !important;
      }
      
      /* Disable card animations for reduced motion */
      .card {
        opacity: 1 !important;
        transform: none !important;
        animation: none !important;
      }
      
      .cards-container.cards-animated .card {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
      }
    }

    /* Carousel Transition Between Sections */
    /* Wrapper to enable carousel effect */
    main {
      position: relative;
      width: 100%;
    }

    .hero {
      position: relative;
      z-index: 2;
      width: 100%;
    }

    .what-we-do {
      position: relative;
      width: 100%;
      z-index: 1;
    }

    /* Carousel active states - both sections slide together */
    body.carousel-transitioning .hero {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }

    body.carousel-transitioning .what-we-do {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 9;
      transform: translateX(100%);
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }

    body.carousel-active .hero {
      transform: translateX(-100%);
    }

    body.carousel-active .what-we-do {
      transform: translateX(0);
    }

    /* After transition completes, restore normal positioning */
    body.carousel-complete .hero {
      position: relative;
      transform: none;
    }

    body.carousel-complete .what-we-do {
      position: relative;
      transform: none;
    }

    /* Disable carousel transition for reduced motion */
    @media (prefers-reduced-motion: reduce) {
      body.carousel-transitioning .hero,
      body.carousel-transitioning .what-we-do,
      body.carousel-active .hero,
      body.carousel-active .what-we-do {
        position: relative !important;
        transform: none !important;
        transition: none !important;
      }
    }

    /* Hero Layout with Cyber Card */
    .hero-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 48px;
      width: 100%;
      position: relative;
      z-index: 10;
    }

    .hero-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
      z-index: 10;
    }

    .hero-visual {
      display: none; /* Hidden since card is removed */
    }

    /* Desktop: 2 columns */
    @media (min-width: 768px) {
      .hero-inner {
        flex-direction: row;
        align-items: center;
      }

      .hero-content {
        align-items: flex-start;
        text-align: left;
      }
    }

    /* Mobile: stack vertically */
    @media (max-width: 767px) {
      .hero-visual {
        margin-top: 28px;
      }
    }

    /* Cyber Card Styles - All classes prefixed with cyber- */
    .cyber-card-wrapper {
      --cyber-neon-color: #00f3ff; /* Scoped neon color for cyber card */
      position: relative;
      width: 320px;
      height: 480px;
    }

    @media (max-width: 767px) {
      .cyber-card-wrapper {
        width: 280px;
        height: 420px;
      }
    }

    .cyber-mouse-position-tracker {
      position: absolute;
      width: 33.333%;
      height: 33.333%;
      z-index: 10;
    }

    .cyber-tr-1 {
      top: 0;
      left: 0;
    }
    .cyber-tr-2 {
      top: 0;
      left: 33.333%;
    }
    .cyber-tr-3 {
      top: 0;
      left: 66.666%;
    }
    .cyber-tr-4 {
      top: 33.333%;
      left: 0;
    }
    .cyber-tr-5 {
      top: 33.333%;
      left: 33.333%;
    }
    .cyber-tr-6 {
      top: 33.333%;
      left: 66.666%;
    }
    .cyber-tr-7 {
      top: 66.666%;
      left: 0;
    }
    .cyber-tr-8 {
      top: 66.666%;
      left: 33.333%;
    }
    .cyber-tr-9 {
      top: 66.666%;
      left: 66.666%;
    }

    .cyber-card {
      position: absolute;
      inset: 0;
      background: rgba(10, 10, 10, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition:
        transform 0.2s ease-out,
        box-shadow 0.2s ease;
      transform-style: preserve-3d;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }

    .cyber-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(color-mix(in srgb, var(--cyber-neon-color) 10%, transparent) 1px, transparent 1px),
        linear-gradient(90deg, color-mix(in srgb, var(--cyber-neon-color) 10%, transparent) 1px, transparent 1px);
      background-size: 30px 30px;
      opacity: 0.5;
      -webkit-mask-image: radial-gradient(circle at center, white, transparent 80%);
      mask-image: radial-gradient(circle at center, white, transparent 80%);
      z-index: 1;
      pointer-events: none;
    }

    .cyber-card::after {
      content: "";
      position: absolute;
      width: 200%;
      height: 200%;
      background: radial-gradient(
        circle at center,
        color-mix(in srgb, var(--cyber-neon-color) 20%, transparent),
        transparent 50%
      );
      top: -50%;
      left: -50%;
      opacity: 0;
      transition: 0.3s;
      z-index: 0;
      pointer-events: none;
    }

    .cyber-content {
      z-index: 5;
      transform: translateZ(40px);
      text-align: center;
      pointer-events: none;
    }

    .cyber-title {
      font-size: 3.5rem;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      line-height: 1;
      position: relative;
      mix-blend-mode: lighten;
    }

    @media (max-width: 767px) {
      .cyber-title {
        font-size: 3rem;
      }
    }

    .cyber-subtitle {
      margin-top: 10px;
      color: var(--cyber-neon-color);
      letter-spacing: 3px;
      font-size: 0.8rem;
      text-transform: uppercase;
    }

    .cyber-hud-corner {
      position: absolute;
      width: 20px;
      height: 20px;
      border: 2px solid var(--cyber-neon-color);
      transition: 0.3s;
      z-index: 4;
    }
    .cyber-tl {
      top: 20px;
      left: 20px;
      border-right: none;
      border-bottom: none;
    }
    .cyber-tr {
      top: 20px;
      right: 20px;
      border-left: none;
      border-bottom: none;
    }
    .cyber-bl {
      bottom: 20px;
      left: 20px;
      border-right: none;
      border-top: none;
    }
    .cyber-br {
      bottom: 20px;
      right: 20px;
      border-left: none;
      border-top: none;
    }

    .cyber-glitch {
      position: relative;
    }
    .cyber-glitch::before,
    .cyber-glitch::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 10, 10, 0.8);
    }
    .cyber-glitch::before {
      left: 2px;
      text-shadow: -1px 0 #ff00c1;
      clip: rect(44px, 450px, 56px, 0);
      animation: cyber-glitch-anim 5s infinite linear alternate-reverse;
    }
    .cyber-glitch::after {
      left: -2px;
      text-shadow: -1px 0 #00fff9;
      clip: rect(44px, 450px, 56px, 0);
      animation: cyber-glitch-anim2 5s infinite linear alternate-reverse;
    }

    @keyframes cyber-glitch-anim {
      0% {
        clip: rect(15px, 9999px, 81px, 0);
      }
      5% {
        clip: rect(72px, 9999px, 24px, 0);
      }
      10% {
        clip: rect(4px, 9999px, 88px, 0);
      }
      15% {
        clip: rect(66px, 9999px, 14px, 0);
      }
      20% {
        clip: rect(25px, 9999px, 96px, 0);
      }
      100% {
        clip: rect(50px, 9999px, 50px, 0);
      }
    }
    @keyframes cyber-glitch-anim2 {
      0% {
        clip: rect(80px, 9999px, 4px, 0);
      }
      5% {
        clip: rect(30px, 9999px, 100px, 0);
      }
      10% {
        clip: rect(10px, 9999px, 20px, 0);
      }
      100% {
        clip: rect(90px, 9999px, 90px, 0);
      }
    }

    /* Desktop hover effects */
    @media (min-width: 768px) {
      .cyber-tr-1:hover ~ .cyber-card {
        transform: rotateX(20deg) rotateY(-20deg);
      }
      .cyber-tr-1:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(-20%, -20%);
      }

      .cyber-tr-2:hover ~ .cyber-card {
        transform: rotateX(20deg) rotateY(0deg);
      }
      .cyber-tr-2:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(0%, -20%);
      }

      .cyber-tr-3:hover ~ .cyber-card {
        transform: rotateX(20deg) rotateY(20deg);
      }
      .cyber-tr-3:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(20%, -20%);
      }

      .cyber-tr-4:hover ~ .cyber-card {
        transform: rotateX(0deg) rotateY(-20deg);
      }
      .cyber-tr-4:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(-20%, 0%);
      }

      .cyber-tr-5:hover ~ .cyber-card {
        transform: rotateX(0deg) rotateY(0deg) scale(1.05);
        box-shadow: 0 0 30px var(--cyber-neon-color);
      }
      .cyber-tr-5:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(0%, 0%);
      }

      .cyber-tr-6:hover ~ .cyber-card {
        transform: rotateX(0deg) rotateY(20deg);
      }
      .cyber-tr-6:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(20%, 0%);
      }

      .cyber-tr-7:hover ~ .cyber-card {
        transform: rotateX(-20deg) rotateY(-20deg);
      }
      .cyber-tr-7:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(-20%, 20%);
      }

      .cyber-tr-8:hover ~ .cyber-card {
        transform: rotateX(-20deg) rotateY(0deg);
      }
      .cyber-tr-8:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(0%, 20%);
      }

      .cyber-tr-9:hover ~ .cyber-card {
        transform: rotateX(-20deg) rotateY(20deg);
      }
      .cyber-tr-9:hover ~ .cyber-card::after {
        opacity: 1;
        transform: translate(20%, 20%);
      }

      .cyber-card-wrapper:hover .cyber-hud-corner {
        box-shadow: 0 0 10px var(--cyber-neon-color);
        width: 30px;
        height: 30px;
      }
    }

    /* Mobile: disable hover trackers, add tap-to-glow */
    @media (max-width: 767px) {
      .cyber-mouse-position-tracker {
        display: none;
      }

      .cyber-card-wrapper.cyber-active .cyber-card {
        transform: scale(1.03);
        box-shadow: 0 0 25px var(--cyber-neon-color);
      }

      .cyber-card-wrapper.cyber-active .cyber-card::after {
        opacity: 0.7;
      }

      .cyber-card-wrapper.cyber-active .cyber-hud-corner {
        box-shadow: 0 0 8px var(--cyber-neon-color);
      }
    }

    /* Reduced motion: disable animations */
    @media (prefers-reduced-motion: reduce) {
      .hero::before,
      .hero::after {
        animation: none !important;
        transition: none !important;
      }

      .cyber-card {
        transition: none;
      }

      .cyber-glitch::before,
      .cyber-glitch::after {
        animation: none !important;
      }

      .cyber-tr-1:hover ~ .cyber-card,
      .cyber-tr-2:hover ~ .cyber-card,
      .cyber-tr-3:hover ~ .cyber-card,
      .cyber-tr-4:hover ~ .cyber-card,
      .cyber-tr-5:hover ~ .cyber-card,
      .cyber-tr-6:hover ~ .cyber-card,
      .cyber-tr-7:hover ~ .cyber-card,
      .cyber-tr-8:hover ~ .cyber-card,
      .cyber-tr-9:hover ~ .cyber-card {
        transform: none !important;
      }

      .cyber-card-wrapper.cyber-active .cyber-card {
        transform: none !important;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">Ketos Agency</div>
    <nav>
      <a href="#servicios">Servicios</a>
      <a href="#about">Nosotros</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <!-- Premium Hero Banner with Spline -->
  <div id="introBanner">
    <div class="banner-container">
      <iframe 
        class="banner-iframe"
        id="splineIframe"
        allow="fullscreen"
        loading="eager"
      ></iframe>
      
      <div class="banner-overlay">
        <div class="btn-wrapper">
          <button class="btn" id="startButton" aria-label="Comenzar - Ocultar banner y ver contenido">
            <svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"
              ></path>
            </svg>

            <div class="txt-wrapper">
              <div class="txt-1">
                <span class="btn-letter">C</span>
                <span class="btn-letter">o</span>
                <span class="btn-letter">m</span>
                <span class="btn-letter">e</span>
                <span class="btn-letter">n</span>
                <span class="btn-letter">z</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">r</span>
              </div>
              <div class="txt-2">
                <span class="btn-letter">C</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">r</span>
                <span class="btn-letter">g</span>
                <span class="btn-letter">a</span>
                <span class="btn-letter">n</span>
                <span class="btn-letter">d</span>
                <span class="btn-letter">o</span>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Site Content -->
  <main id="siteContent">
    <section class="hero">
      <div class="hero-inner">
        <div class="hero-content">
          <h1><span class="hero-glitch" data-text="Hacemos que las marcas crezcan. Punto.">Hacemos que las marcas crezcan. Punto.</span></h1>
          <p>Sistemas digitales dise√±ados para vender, escalar y dominar su mercado.</p>
          <div class="btn-wrapper">
            <button class="btn" id="growButton">
              <svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"
                ></path>
              </svg>

              <div class="txt-wrapper">
                <div class="txt-1">
                  <span class="btn-letter">Q</span>
                  <span class="btn-letter">u</span>
                  <span class="btn-letter">i</span>
                  <span class="btn-letter">e</span>
                  <span class="btn-letter">r</span>
                  <span class="btn-letter">o</span>
                  <span class="btn-letter"> </span>
                  <span class="btn-letter">C</span>
                  <span class="btn-letter">r</span>
                  <span class="btn-letter">e</span>
                  <span class="btn-letter">c</span>
                  <span class="btn-letter">e</span>
                  <span class="btn-letter">r</span>
                  <span class="btn-letter"> </span>
                  <span class="btn-letter">-</span>
                  <span class="btn-letter">-</span>
                  <span class="btn-letter">></span>
                </div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECCI√ìN 2: Qu√© hacemos diferente -->
    <section id="section-2" class="what-we-do">
      <!-- Animated background -->
      <div class="section2-bg"></div>
      
      <!-- Content wrapper -->
      <div class="section2-content">
        <div class="sticky-head">
          <h2 class="main-title">No hacemos marketing.</h2>
          <h2 class="subtitle">Creamos m√°quinas de crecimiento.</h2>
          <p class="description">Estrategia, IA y creatividad enfocadas en resultados medibles.</p>
        </div>
        
        <div class="cards-container">
          <div class="card">
            <span class="card-icon">üìà</span>
            <h3>Estrategia</h3>
            <p>Decisiones que generan dinero, no presentaciones.</p>
          </div>
          
          <div class="card">
            <span class="card-icon">üß†</span>
            <h3>IA & Automatizaci√≥n</h3>
            <p>Escala m√°s r√°pido con menos fricci√≥n.</p>
          </div>
          
          <div class="card">
            <span class="card-icon">üé®</span>
            <h3>Creatividad</h3>
            <p>Dise√±o que impacta y convierte.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Aqu√≠ ir√°n despu√©s las secciones de servicios, about, etc. -->
  </main>

  <script>
    // Cache-busting for Spline iframe
    const splineUrl = 'https://my.spline.design/nexbotrobotcharacterconcept-Zb5s4qJ7pgx5xVCSjat7oEDO/';
    const splineIframe = document.getElementById('splineIframe');
    if (splineIframe) {
      splineIframe.src = splineUrl + '?v=' + Date.now();
    }
    
    // Premium Spline Hero Intro Functionality
    const introBanner = document.getElementById('introBanner');
    const siteContent = document.getElementById('siteContent');
    const startButton = document.getElementById('startButton');
    const header = document.querySelector('header');
    
    // TEMPORARILY DISABLED: Skip intro functionality (for development)
    // const hasSeenIntro = sessionStorage.getItem('ketosIntroSeen');
    const hasSeenIntro = false; // Always show intro during development
    
    if (hasSeenIntro === true) {
      // Skip intro, show content immediately
      introBanner.classList.add('intro-hidden');
      siteContent.classList.add('content-visible');
      document.documentElement.classList.remove('intro-active');
      document.body.classList.remove('intro-active');
      header.classList.remove('header-hidden');
    } else {
      // Intro is visible, hide header and block scroll
      document.documentElement.classList.add('intro-active');
      document.body.classList.add('intro-active');
      header.classList.add('header-hidden');
    }
    
    function hideBannerAndShowContent(e) {
      e.preventDefault();
      
      // TEMPORARILY DISABLED: Save to sessionStorage (for development)
      // sessionStorage.setItem('ketosIntroSeen', 'true');
      
      // Hide banner with transition
      introBanner.classList.add('intro-hidden');
      
      // Show content with transition
      siteContent.classList.add('content-visible');
      
      // Enable body scroll and remove html/body overrides
      document.documentElement.classList.remove('intro-active');
      document.body.classList.remove('intro-active');
      
      // Show header with smooth animation
      header.classList.remove('header-hidden');
      
      // Safety fallback: ensure section2 is visible
      const section2 = document.querySelector('#section-2');
      if (section2) {
        section2.style.setProperty('visibility', 'visible');
        section2.style.setProperty('opacity', '1');
      }
    }
    
    // Click handlers
    startButton.addEventListener('click', hideBannerAndShowContent);
  </script>

  <script>
    // ========================================
    // CAROUSEL TRANSITION BETWEEN SECTIONS
    // ========================================
    
    (function() {
      'use strict';
      
      // Configuration
      const TRIGGER_THRESHOLD = 0.5; // Trigger when hero is 50% out of viewport
      
      // Check for reduced motion preference
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReducedMotion) {
        // Carousel effect disabled via CSS for reduced motion
        return;
      }
      
      // Configuration
      const hero = document.querySelector('.hero');
      const section2 = document.querySelector('.what-we-do');
      let carouselTriggered = false;
      let isTransitioning = false;
      let lastScrollY = window.scrollY;
      
      if (!hero || !section2) return;
      
      /**
       * Trigger carousel transition (scroll down only, one-time)
       */
      function triggerCarousel() {
        if (carouselTriggered || isTransitioning) return;
        
        carouselTriggered = true;
        isTransitioning = true;
        
        // Prevent scrolling during transition
        document.body.style.overflow = 'hidden';
        
        // Add transitioning class to body (applies fixed positioning)
        document.body.classList.add('carousel-transitioning');
        
        // Small delay to ensure fixed positioning is applied before animation starts
        setTimeout(() => {
          // Trigger carousel animation
          document.body.classList.add('carousel-active');
        }, 50);
        
        // After animation completes, restore normal flow
        setTimeout(() => {
          isTransitioning = false;
          document.body.classList.remove('carousel-transitioning');
          document.body.classList.add('carousel-complete');
          document.body.style.overflow = '';
          
          // Scroll to section 2 to maintain position after restoring normal flow
          section2.scrollIntoView({ behavior: 'auto' });
        }, 900); // Match CSS transition duration + delay
      }
      
      /**
       * Check if user has scrolled down past hero
       */
      function checkScroll() {
        if (carouselTriggered) return;
        
        const currentScrollY = window.scrollY;
        const scrollingDown = currentScrollY > lastScrollY;
        lastScrollY = currentScrollY;
        
        // Trigger when scrolling down and hero is mostly out of view
        const heroRect = hero.getBoundingClientRect();
        const heroBottom = heroRect.bottom;
        const triggerPoint = window.innerHeight * TRIGGER_THRESHOLD;
        
        if (scrollingDown && heroBottom < triggerPoint) {
          triggerCarousel();
        }
      }
      
      // Add scroll listener with throttling
      let ticking = false;
      function handleScroll() {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            checkScroll();
            ticking = false;
          });
          ticking = true;
        }
      }
      
      window.addEventListener('scroll', handleScroll, { passive: true });
      
      // Check initial state
      checkScroll();
      
    })();
  </script>

  <!-- Cyber Card Mobile Tap Interaction -->
  <script>
    (function() {
      // Detect touch device
      const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

      if (isTouchDevice) {
        const cyberWrapper = document.querySelector('.cyber-card-wrapper');

        if (cyberWrapper) {
          cyberWrapper.addEventListener('click', function() {
            // Toggle active class
            cyberWrapper.classList.add('cyber-active');

            // Remove after 1.2s
            setTimeout(function() {
              cyberWrapper.classList.remove('cyber-active');
            }, 1200);
          });
        }
      }
    })();
  </script>

  <!-- Hero Background Mouse Movement -->
  <script>
    (function() {
      // Check for reduced motion preference
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReducedMotion) return;

      // Check if desktop (min-width: 768px)
      const isDesktop = window.matchMedia('(min-width: 768px)').matches;
      if (!isDesktop) return;

      const hero = document.querySelector('.hero');
      if (!hero) return;

      let ticking = false;
      let mouseX = 0;
      let mouseY = 0;

      /**
       * Update hero background position based on mouse
       */
      function updateBackgroundPosition() {
        const heroRect = hero.getBoundingClientRect();
        
        // Calculate relative position (0 to 1)
        const relativeX = (mouseX - heroRect.left) / heroRect.width;
        const relativeY = (mouseY - heroRect.top) / heroRect.height;
        
        // Background movement
        const MAX_BG_MOVEMENT = 25; // Maximum pixels to move in any direction
        const moveX = (relativeX - 0.5) * (MAX_BG_MOVEMENT * 2);
        const moveY = (relativeY - 0.5) * (MAX_BG_MOVEMENT * 2);
        
        // Apply transform to ::before and ::after via CSS custom properties
        hero.style.setProperty('--hero-bg-x', `${moveX}px`);
        hero.style.setProperty('--hero-bg-y', `${moveY}px`);
        
        // Title subtle rotation (Cyber Core style)
        const MAX_ROTATION = 5; // Maximum degrees to rotate
        const rotateY = (relativeX - 0.5) * (MAX_ROTATION * 2);
        const rotateX = -(relativeY - 0.5) * (MAX_ROTATION * 2);
        
        hero.style.setProperty('--hero-title-rotate-x', `${rotateX}deg`);
        hero.style.setProperty('--hero-title-rotate-y', `${rotateY}deg`);
        
        ticking = false;
      }

      /**
       * Handle mouse move with requestAnimationFrame
       */
      function handleMouseMove(e) {
        mouseX = e.clientX;
        mouseY = e.clientY;
        
        if (!ticking) {
          window.requestAnimationFrame(updateBackgroundPosition);
          ticking = true;
        }
      }

      // Add event listener
      hero.addEventListener('mousemove', handleMouseMove, { passive: true });

      // Reset on mouse leave
      hero.addEventListener('mouseleave', function() {
        hero.style.setProperty('--hero-bg-x', '0px');
        hero.style.setProperty('--hero-bg-y', '0px');
        hero.style.setProperty('--hero-title-rotate-x', '0deg');
        hero.style.setProperty('--hero-title-rotate-y', '0deg');
      }, { passive: true });
    })();

    /**
     * Mobile Device Orientation Parallax Effect
     */
    (function() {
      // Check for reduced motion preference
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReducedMotion) return;

      // Check if mobile (max-width: 767px)
      const isMobile = window.matchMedia('(max-width: 767px)').matches;
      if (!isMobile) return;

      const hero = document.querySelector('.hero');
      if (!hero) return;

      let permissionGranted = false;
      let deviceOrientationSupported = false;

      /**
       * Update hero background and title position based on device orientation
       */
      function handleDeviceOrientation(event) {
        if (!permissionGranted) return;

        // Get beta (tilt forward/backward) and gamma (tilt left/right)
        const beta = event.beta || 0;
        const gamma = event.gamma || 0;

        // Background movement
        const MAX_TILT = 30; // Max tilt angle to consider
        const MAX_MOVEMENT = 40; // Maximum pixels to move in any direction
        
        // Clamp beta to reasonable range
        const clampedBeta = clamp(beta, -MAX_TILT, MAX_TILT);
        const clampedGamma = clamp(gamma, -MAX_TILT, MAX_TILT);
        
        // Calculate background movement (inverted for natural feel)
        const moveX = -(clampedGamma / MAX_TILT) * MAX_MOVEMENT;
        const moveY = (clampedBeta / MAX_TILT) * MAX_MOVEMENT;

        // Apply background transform
        hero.style.setProperty('--hero-bg-x', `${moveX}px`);
        hero.style.setProperty('--hero-bg-y', `${moveY}px`);
        
        // Title subtle rotation (Cyber Core style)
        const MAX_ROTATION = 5; // Maximum degrees to rotate
        const rotateY = -(clampedGamma / MAX_TILT) * MAX_ROTATION;
        const rotateX = (clampedBeta / MAX_TILT) * MAX_ROTATION;
        
        hero.style.setProperty('--hero-title-rotate-x', `${rotateX}deg`);
        hero.style.setProperty('--hero-title-rotate-y', `${rotateY}deg`);
      }

      /**
       * Clamp a value between min and max
       */
      function clamp(value, min, max) {
        return Math.max(min, Math.min(max, value));
      }

      /**
       * Initialize device orientation (without button, as per requirements)
       */
      function initDeviceOrientation() {
        // Check if DeviceOrientationEvent is supported
        if (typeof DeviceOrientationEvent === 'undefined') {
          console.log('DeviceOrientation not supported');
          hero.classList.add('use-fallback-animation');
          return;
        }

        // iOS 13+ requires permission, but per requirements we don't show button
        // Instead, we use fallback animation
        if (typeof DeviceOrientationEvent.requestPermission === 'function') {
          // Use fallback animation instead of requesting permission
          hero.classList.add('use-fallback-animation');
        } else {
          // Android and older iOS - no permission needed
          deviceOrientationSupported = true;
          permissionGranted = true;
          hero.classList.remove('use-fallback-animation');
          window.addEventListener('deviceorientation', handleDeviceOrientation, { passive: true });
        }
      }

      // Initialize on page load
      initDeviceOrientation();

      // Cleanup on page unload
      window.addEventListener('beforeunload', function() {
        if (permissionGranted) {
          window.removeEventListener('deviceorientation', handleDeviceOrientation);
        }
      });
    })();
  </script>

</body>
</html>
